<!doctype html>
<html lang="ko" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-prisma/components/guides/using-prisma-with-planetscale">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">플래닛스케일과 프리즈마 사용하기 | 문서 보관소</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://autroshot.github.io/doc-archive/docs/prisma/components/guides/using-prisma-with-planetscale"><meta data-rh="true" name="docusaurus_locale" content="ko"><meta data-rh="true" name="docsearch:language" content="ko"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="플래닛스케일과 프리즈마 사용하기 | 문서 보관소"><meta data-rh="true" name="description" content="프리즈마와 플래닛스케일은 프리즈마의 ORM과 플래닛스케일의 확장성이 뛰어난 마이SQL 기반 플랫폼을 사용합니다. 데이터 접근 앱의 신속하고 타입에 안전한 개발 환경을 제공합니다."><meta data-rh="true" property="og:description" content="프리즈마와 플래닛스케일은 프리즈마의 ORM과 플래닛스케일의 확장성이 뛰어난 마이SQL 기반 플랫폼을 사용합니다. 데이터 접근 앱의 신속하고 타입에 안전한 개발 환경을 제공합니다."><link data-rh="true" rel="icon" href="/doc-archive/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://autroshot.github.io/doc-archive/docs/prisma/components/guides/using-prisma-with-planetscale"><link data-rh="true" rel="alternate" href="https://autroshot.github.io/doc-archive/docs/prisma/components/guides/using-prisma-with-planetscale" hreflang="ko"><link data-rh="true" rel="alternate" href="https://autroshot.github.io/doc-archive/docs/prisma/components/guides/using-prisma-with-planetscale" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XLF32HX6M9"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-XLF32HX6M9",{anonymize_ip:!0})</script><link rel="stylesheet" href="/doc-archive/assets/css/styles.b259cda1.css">
<link rel="preload" href="/doc-archive/assets/js/runtime~main.b603ba04.js" as="script">
<link rel="preload" href="/doc-archive/assets/js/main.db4ec411.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="본문으로 건너뛰기"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">본문으로 건너뛰기</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/doc-archive/"><div class="navbar__logo"><img src="/doc-archive/img/logo.svg" alt="사이트 로고" class="themedImage_ToTc themedImage--light_HNdA"><img src="/doc-archive/img/logo.svg" alt="사이트 로고" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">문서 보관소</b></a><a class="navbar__item navbar__link" href="/doc-archive/docs/javascript/keyboard-keydown-and-keyup">JS</a><a class="navbar__item navbar__link" href="/doc-archive/docs/typescript">TS</a><a class="navbar__item navbar__link" href="/doc-archive/docs/react">React</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">프레임워크</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/doc-archive/docs/nextjs">Next.js</a></li><li><a class="dropdown__link" href="/doc-archive/docs/electron">Electron</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">테스트</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/doc-archive/docs/jest">Jest</a></li><li><a class="dropdown__link" href="/doc-archive/docs/cypress">Cypress</a></li><li><a class="dropdown__link" href="/doc-archive/docs/playwright">Playwright</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">상태 관리</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/doc-archive/docs/zustand">Zustand</a></li><li><a class="dropdown__link" href="/doc-archive/docs/tanstack-query">TanStack Query</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">기타</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/doc-archive/docs/nextauthjs">NextAuth.js</a></li><li><a class="dropdown__link" href="/doc-archive/docs/vanilla-extract">Vanilla Extract</a></li><li><a class="dropdown__link" href="/doc-archive/docs/chakra-ui">Chakra UI</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/doc-archive/docs/prisma">Prisma</a></li><li><a class="dropdown__link" href="/doc-archive/docs/docusaurus">Docusaurus</a></li><li><a class="dropdown__link" href="/doc-archive/docs/emmet">Emmet</a></li><li><a class="dropdown__link" href="/doc-archive/docs/yup">Yup</a></li><li><a class="dropdown__link" href="/doc-archive/docs/regular-expression">정규 표현식</a></li></ul></div><a class="navbar__item navbar__link" href="/doc-archive/docs/concepts/domain-name">개념</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/doc-archive/source">출처</a><a href="https://docs-glossary.vercel.app/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">용어집<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/autroshot/doc-archive" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="깃허브"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="어두운 모드와 밝은 모드 전환하기 (현재 밝은 모드)" aria-label="어두운 모드와 밝은 모드 전환하기 (현재 밝은 모드)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="맨 위로 스크롤하기" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/doc-archive/"><img src="/doc-archive/img/logo.svg" alt="사이트 로고" class="themedImage_ToTc themedImage--light_HNdA"><img src="/doc-archive/img/logo.svg" alt="사이트 로고" class="themedImage_ToTc themedImage--dark_i4oU"><b>문서 보관소</b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/doc-archive/docs/prisma">소개</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/doc-archive/docs/prisma/overview/rest">개요</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/doc-archive/docs/prisma/getting-started/installation">시작하기</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/doc-archive/docs/prisma/components/schema">구성 요소</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/doc-archive/docs/prisma/components/schema">스키마</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;스키마&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/doc-archive/docs/prisma/components/client">클라이언트</a><button aria-label="접을 수 있는 사이드바 분류 &#x27;클라이언트&#x27; 접기(펼치기)" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/doc-archive/docs/prisma/components/guides/seed-database">안내서</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/doc-archive/docs/prisma/components/guides/seed-database">데이터베이스 시드하기</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/doc-archive/docs/prisma/components/guides/using-prisma-with-planetscale">플래닛스케일과 프리즈마 사용하기</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/doc-archive/docs/prisma/troubleshooting">문제 해결</a></li></ul></nav><button type="button" title="사이드바 숨기기" aria-label="사이드바 숨기기" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="홈" class="breadcrumbs__link" href="/doc-archive/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">구성 요소</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">안내서</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">플래닛스케일과 프리즈마 사용하기</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">이 페이지에서</button></div><div class="theme-doc-markdown markdown"><h1>플래닛스케일과 프리즈마 사용하기</h1><p>프리즈마와 <a href="https://planetscale.com/" target="_blank" rel="noopener noreferrer">플래닛스케일</a>은 프리즈마의 ORM과 플래닛스케일의 확장성이 뛰어난 마이SQL 기반 플랫폼을 사용합니다. 데이터 접근 앱의 신속하고 타입에 안전한 개발 환경을 제공합니다.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="플래닛스케일이란">플래닛스케일이란?<a href="#플래닛스케일이란" class="hash-link" aria-label="플래닛스케일이란?에 대한 직접 링크" title="플래닛스케일이란?에 대한 직접 링크">​</a></h2><p>플래닛스케일은 Vitess 데이터베이스 클러스터링 시스템을 사용하여 마이SQL 호환 데이터베이스 플랫폼을 제공합니다.</p><p>다음 기능을 가집니다.</p><ul><li><strong>엔터프라이즈 확장성</strong> - 플래닛스케일은 여러 데이터베이스 서버 간의 확장을 지원하는 고가용성 프로덕션 데이터베이스 클러스터를 제공합니다. 연결 제한을 관리해야 하는 문제를 피할 수 있으므로 서버리스 컨텍스트에서 특히 유용합니다.</li><li><strong>데이터베이스 브랜치</strong> - 플래닛스케일을 사용하면 데이터베이스 스키마의 브랜치를 생성할 수 있으므로 프로덕션 데이터베이스에 변경 사항을 적용하기 전에 개발 분기에서 변경 사항을 테스트할 수 있습니다.</li><li><strong>비동기 스키마 변경</strong> - 플래닛스케일은 사용자가 데이터베이스를 잠그거나 다운타임을 일으키지 않고 데이터베이스 스키마를 갱신할 수 있는 워크플로를 제공합니다.</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="다른-데이터베이스-제공자와의-공통점">다른 데이터베이스 제공자와의 공통점<a href="#다른-데이터베이스-제공자와의-공통점" class="hash-link" aria-label="다른 데이터베이스 제공자와의 공통점에 대한 직접 링크" title="다른 데이터베이스 제공자와의 공통점에 대한 직접 링크">​</a></h2><p>플래닛스케일과 프리즈마를 사용하는 것은 다른 관계형 데이터베이스와 프리즈마를 사용하는 것과 거의 동일합니다.</p><p>다음 기능을 동일하게 사용할 수 있습니다.</p><ul><li>프리즈마 스키마 언어로 데이터베이스를 모델링함</li><li>플래닛스케일이 제공하는 연결 문자열로 스키마에서 프리즈마의 기존 <code>mysql</code> 데이터베이스 커넥터를 사용함</li><li>플래닛스케일에 이미 데이터베이스 스키마가 있는 경우 기존 프로젝트에 분석을 사용함</li><li><code>db push</code>를 사용하여 스키마의 변경 사항을 데이터베이스에 푸시함</li><li>앱에서 프리즈마 클라이언트를 사용 하여 플래닛스케일의 데이터베이스 서버와 통신함</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="고려해야-할-차이점">고려해야 할 차이점<a href="#고려해야-할-차이점" class="hash-link" aria-label="고려해야 할 차이점에 대한 직접 링크" title="고려해야 할 차이점에 대한 직접 링크">​</a></h2><p>확장성을 위한 플래닛스케일의 브랜치 모델 및 설계로 인해 고려해야 할 차이점이 많습니다.</p><p>프리즈마와 플래닛스케일을 사용하기로 결정할 때 다음 사항에 유의해야 합니다.</p><ul><li><strong>브랜치 및 배포 요청</strong> - 플래닛스케일은 스키마 변경을 테스트할 수 있는 <strong>개발 브랜치</strong>와 직접적인 스키마 변경으로부터 보호되는 <strong>프로덕션 브랜치</strong>라는 두 가지 유형의 데이터베이스 브랜치를 제공합니다. 변경 사항을 개발 브랜치에서 먼저 만든 다음 배포 요청을 사용하여 프로덕션에 배포해야 합니다. 프로덕션 브랜치는 고가용성이며 자동화된 일일 백업을 포함합니다.</li><li><strong>참조 작업 및 무결성</strong> - 여러 데이터베이스 서버에서 확장을 지원하기 위해 플래닛스케일은 일반적으로 관계형 데이터베이스에서 다른 테이블의 데이터 간의 관계를 적용하는 데 사용되는 외래 키 제약 조건을 사용하지 않습니다. 대신 앱에서 이를 수동으로 처리할 것을 사용자에게 요구합니다.
프리즈마를 사용하면 데이터에서 이러한 관계를 유지하고 프리즈마 클라이언트에서 참조 무결성을 에뮬레이트 하는 기능을 사용하여 참조 작업을 사용할 수 있습니다.</li><li><strong>외래 키에 대한 색인 생성</strong> - 프리즈마에서 참조 무결성을 에뮬레이트할 때 외래 키에 대한 색인을 생성해야 합니다. 표준 마이SQL 데이터베이스에서는 테이블에 외래 키 제약 조건이 있는 열에 색인이 자동으로 생성됩니다. 플래닛스케일은 외래 키를 지원하지 않기 때문에 색인은 <a href="https://github.com/prisma/prisma/issues/10611" target="_blank" rel="noopener noreferrer">현재</a> 참조 무결성을 에뮬레이트할 때 생성되지 않으며, 이로 인해 질의가 제대로 최적화되지 않는 문제가 발생할 수 있습니다. 이를 방지하기 위해 프리즈마에서 색인을 생성할 수 있습니다.</li><li><strong><code>db push</code>를 사용하여 스키마 변경</strong> - 개발 브랜치를 프로덕션 브랜치에 병합하면 플래닛스케일이 자동으로 두 스키마를 비교하고 자체 스키마 diff를 생성합니다. 이는 마이그레이션 파일의 자체 기록을 생성하는 프리즈마의 <code>prisma migrate</code> 워크플로가 플래닛스케일과 함께 작업할 때 자연스럽게 맞지 않는다는 것을 의미합니다. 이러한 마이그레이션 파일은 브랜치가 병합될 때 플래닛스케일에서 실행하는 실제 스키마 변경 사항을 반영하지 않을 수 있습니다.</li></ul><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>참고</div><div class="admonitionContent_S0QG"><p>플래닛스케일의 스키마를 변경할 때 <code>prisma migrate</code>를 사용하지 않는 것을 권장합니다. 대신 <code>prisma db push</code> 명령을 사용하는 것이 좋습니다.</p></div></div><ul><li><strong>분석</strong> - 기존 데이터베이스를 분석하면 보통은 테이블을 연결하는 외래 키를 기반으로 정의되기 때문에 관계가 없는 스키마를 얻게 됩니다. 플래닛스케일은 외래 키를 지원하지 않고 프리즈마를 사용하여 참조 무결성을 에뮬레이트하므로 누락된 관계를 수동으로 추가해야 합니다. 자세한 내용은 <a href="https://www.prisma.io/docs/guides/database/using-prisma-with-planetscale#how-to-add-in-missing-relations-after-introspection" target="_blank" rel="noopener noreferrer">분석 후 누락된 관계를 추가하는 방법</a>을 참고하세요.</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="브랜치를-사용하고-요청을-배포하는-방법">브랜치를 사용하고 요청을 배포하는 방법<a href="#브랜치를-사용하고-요청을-배포하는-방법" class="hash-link" aria-label="브랜치를 사용하고 요청을 배포하는 방법에 대한 직접 링크" title="브랜치를 사용하고 요청을 배포하는 방법에 대한 직접 링크">​</a></h2><p>프리즈마를 사용하여 플래닛스케일에 연결할 때 브랜치에 올바른 연결 문자열을 사용해야 합니다. 지정된 데이터베이스 브랜치에 대한 연결 URL은 플래닛스케일 계정에서 브랜치 개요 페이지로 이동하고 <code>Connect</code> 드롭다운을 선택하면 찾을 수 있습니다. <code>Passwords</code>에서 새 비밀번호를 생성하고 드롭다운에서 <code>Prisma</code>를 선택하여 연결 URL에 대한 프리즈마 형식을 가져옵니다. 자세한 내용은 <a href="/doc-archive/docs/prisma/getting-started/connect-your-database">시작하기</a>를 참고하세요.</p><p>모든 플래닛스케일 데이터베이스는 처음에 스키마 변경을 테스트하는 데 사용할 수 있는 개발 브랜치인 <code>main</code> 브랜치로 생성됩니다. 변경 사항에 만족하면 프로덕션 브랜치로 승격시킬 수 있습니다. 새 변경 사항은 개발 브랜치에만 푸시할 수 있습니다. 따라서 별도의 개발 브랜치에서 추가 변경 사항을 만든 다음 나중에 배포 요청을 사용하여 프로덕션에 배포해야 합니다.</p><p>프로덕션 브랜치로 푸시하려고 하면 다음과 같은 오류 메시지가 표시됩니다.</p><pre class="shiki min-light" style="background-color:#ffffff;color:#24292eff"><div class="code-container"><code><div class="line"><span style="color:undefined">Direct execution of DDL (Data Definition Language) SQL statements is disabled on this database.</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><pre class="shiki nord" style="background-color:#2e3440ff;color:#d8dee9ff"><div class="code-container"><code><div class="line"><span style="color:undefined">Direct execution of DDL (Data Definition Language) SQL statements is disabled on this database.</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="플리즈마-클라이언트에서-관계를-에뮬레이트하는-방법">플리즈마 클라이언트에서 관계를 에뮬레이트하는 방법<a href="#플리즈마-클라이언트에서-관계를-에뮬레이트하는-방법" class="hash-link" aria-label="플리즈마 클라이언트에서 관계를 에뮬레이트하는 방법에 대한 직접 링크" title="플리즈마 클라이언트에서 관계를 에뮬레이트하는 방법에 대한 직접 링크">​</a></h2><p>플래닛스케일은 데이터베이스 스키마에서 외래 키를 허용하지 않습니다. 기본적으로 프리즈마는 기본 데이터베이스의 외래 키를 사용하여 프리즈마 스키마에서 필드 간의 관계를 적용합니다. 프리즈마 버전 3.1.1 이상에서는, 데이터베이스의 외래 키가 필요하지 않은 <a href="https://www.prisma.io/docs/concepts/components/prisma-schema/relations/relation-mode#emulate-relations-in-prisma-with-the-prisma-relation-mode" target="_blank" rel="noopener noreferrer"><code>prisma</code> 관계 모드를 사용하여 프리즈마 클라이언트에서 관계를 에뮬레이트</a>할 수 있습니다.</p><p>프리즈마 클라이언트에서 관계 에뮬레이션을 사용하려면 <code>datasource</code> 블록에서 <code>relationMode</code> 필드를 <code>&quot;prisma&quot;</code>로 설정하세요.</p><pre class="shiki min-light with-title" style="background-color:#ffffff;color:#24292eff" title="schema.prisma"><div class="code-title">schema.prisma</div><div class="language-id">prisma</div><div class="code-container"><code><div class="line"><span style="color:#D32F2F">datasource</span><span style="color:#24292EFF"> </span><span style="color:#6F42C1">db</span><span style="color:#24292EFF"> {</span></div><div class="line"><span style="color:#24292EFF">  provider     </span><span style="color:#D32F2F">=</span><span style="color:#24292EFF"> </span><span style="color:#22863A">&quot;mysql&quot;</span></div><div class="line"><span style="color:#24292EFF">  url          </span><span style="color:#D32F2F">=</span><span style="color:#24292EFF"> </span><span style="color:#6F42C1">env</span><span style="color:#24292EFF">(</span><span style="color:#22863A">&quot;DATABASE_URL&quot;</span><span style="color:#24292EFF">)</span></div><div class="line"><span style="color:#24292EFF">  relationMode </span><span style="color:#D32F2F">=</span><span style="color:#24292EFF"> </span><span style="color:#22863A">&quot;prisma&quot;</span></div><div class="line"><span style="color:#24292EFF">}</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><pre class="shiki nord with-title" style="background-color:#2e3440ff;color:#d8dee9ff" title="schema.prisma"><div class="code-title">schema.prisma</div><div class="language-id">prisma</div><div class="code-container"><code><div class="line"><span style="color:#81A1C1">datasource</span><span style="color:#D8DEE9FF"> db </span><span style="color:#81A1C1">{</span></div><div class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">provider</span><span style="color:#D8DEE9FF">     </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#A3BE8C">&quot;mysql&quot;</span></div><div class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">url</span><span style="color:#D8DEE9FF">          </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">env</span><span style="color:#81A1C1">(</span><span style="color:#A3BE8C">&quot;DATABASE_URL&quot;</span><span style="color:#81A1C1">)</span></div><div class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">relationMode</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">=</span><span style="color:#D8DEE9FF"> </span><span style="color:#A3BE8C">&quot;prisma&quot;</span></div><div class="line"><span style="color:#D8DEE9FF">}</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>참고</div><div class="admonitionContent_S0QG"><p>관계 모드를 설정하는 기능은 프리즈마 버전 3.1.1에서 <code>referentialIntegrity</code> 미리 보기 기능의 일부로 도입되었으며, 일반적으로 프리즈마 버전 4.8.0 이상에서 사용할 수 있습니다.</p><p><code>relationMode</code> 필드는 프리즈마 버전 4.5.0에서 이름이 변경되었으며, 이전의 이름은 <code>referentialIntegrity</code>였습니다.</p></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="외래-키의-색인을-만드는-방법">외래 키의 색인을 만드는 방법<a href="#외래-키의-색인을-만드는-방법" class="hash-link" aria-label="외래 키의 색인을 만드는 방법에 대한 직접 링크" title="외래 키의 색인을 만드는 방법에 대한 직접 링크">​</a></h2><p>프리즈마에서 참조 무결성을 에뮬레이트할 때 색인을 생성해야 합니다.</p><p>예시로 게시물과 댓글이 있는 블로그에 대한 스키마를 살펴보겠습니다.</p><pre class="shiki min-light" style="background-color:#ffffff;color:#24292eff"><div class="language-id">prisma</div><div class="code-container"><code><div class="line"><span style="color:#D32F2F">model</span><span style="color:#24292EFF"> </span><span style="color:#6F42C1">Post</span><span style="color:#24292EFF"> {</span></div><div class="line"><span style="color:#24292EFF">  id       </span><span style="color:#1976D2">Int</span><span style="color:#24292EFF">       </span><span style="color:#6F42C1">@id</span><span style="color:#24292EFF"> </span><span style="color:#6F42C1">@default</span><span style="color:#24292EFF">(</span><span style="color:#6F42C1">autoincrement</span><span style="color:#24292EFF">())</span></div><div class="line"><span style="color:#24292EFF">  title    </span><span style="color:#1976D2">String</span></div><div class="line"><span style="color:#24292EFF">  content  </span><span style="color:#1976D2">String</span></div><div class="line"><span style="color:#24292EFF">  likes    </span><span style="color:#1976D2">Int</span><span style="color:#24292EFF">       </span><span style="color:#6F42C1">@default</span><span style="color:#24292EFF">(</span><span style="color:#1976D2">0</span><span style="color:#24292EFF">)</span></div><div class="line"><span style="color:#24292EFF">  comments Comment</span><span style="color:#D32F2F">[]</span></div><div class="line"><span style="color:#24292EFF">}</span></div><div class="line"></div><div class="line"><span style="color:#D32F2F">model</span><span style="color:#24292EFF"> </span><span style="color:#6F42C1">Comment</span><span style="color:#24292EFF"> {</span></div><div class="line"><span style="color:#24292EFF">  id      </span><span style="color:#1976D2">Int</span><span style="color:#24292EFF">    </span><span style="color:#6F42C1">@id</span><span style="color:#24292EFF"> </span><span style="color:#6F42C1">@default</span><span style="color:#24292EFF">(</span><span style="color:#6F42C1">autoincrement</span><span style="color:#24292EFF">())</span></div><div class="line"><span style="color:#24292EFF">  comment </span><span style="color:#1976D2">String</span></div><div class="line"><span style="color:#24292EFF">  postId  </span><span style="color:#1976D2">Int</span></div><div class="line"><span style="color:#24292EFF">  post    Post   </span><span style="color:#6F42C1">@relation</span><span style="color:#24292EFF">(fields: [</span><span style="color:#1976D2">postId</span><span style="color:#24292EFF">], references: [</span><span style="color:#1976D2">id</span><span style="color:#24292EFF">], onDelete: </span><span style="color:#1976D2">Cascade</span><span style="color:#24292EFF">)</span></div><div class="line"><span style="color:#24292EFF">}</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><pre class="shiki nord" style="background-color:#2e3440ff;color:#d8dee9ff"><div class="language-id">prisma</div><div class="code-container"><code><div class="line"><span style="color:#81A1C1">model</span><span style="color:#D8DEE9FF"> Post </span><span style="color:#81A1C1">{</span></div><div class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">id</span><span style="color:#D8DEE9FF">       </span><span style="color:#8FBCBB">Int</span><span style="color:#D8DEE9FF">       </span><span style="color:#88C0D0">@id</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">@default</span><span style="color:#81A1C1">(</span><span style="color:#88C0D0">autoincrement</span><span style="color:#81A1C1">())</span></div><div class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">title</span><span style="color:#D8DEE9FF">    </span><span style="color:#8FBCBB">String</span></div><div class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">content</span><span style="color:#D8DEE9FF">  </span><span style="color:#8FBCBB">String</span></div><div class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">likes</span><span style="color:#D8DEE9FF">    </span><span style="color:#8FBCBB">Int</span><span style="color:#D8DEE9FF">       </span><span style="color:#88C0D0">@default</span><span style="color:#81A1C1">(</span><span style="color:#B48EAD">0</span><span style="color:#81A1C1">)</span></div><div class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">comments</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">Comment[]</span></div><div class="line"><span style="color:#81A1C1">}</span></div><div class="line"></div><div class="line"><span style="color:#81A1C1">model</span><span style="color:#D8DEE9FF"> Comment </span><span style="color:#81A1C1">{</span></div><div class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">id</span><span style="color:#D8DEE9FF">      </span><span style="color:#8FBCBB">Int</span><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">@id</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">@default</span><span style="color:#81A1C1">(</span><span style="color:#88C0D0">autoincrement</span><span style="color:#81A1C1">())</span></div><div class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">comment</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">String</span></div><div class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">postId</span><span style="color:#D8DEE9FF">  </span><span style="color:#8FBCBB">Int</span></div><div class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">post</span><span style="color:#D8DEE9FF">    </span><span style="color:#81A1C1">Post</span><span style="color:#D8DEE9FF">   </span><span style="color:#88C0D0">@relation</span><span style="color:#81A1C1">(</span><span style="color:#D8DEE9">fields</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> [</span><span style="color:#81A1C1">postId</span><span style="color:#D8DEE9FF">], </span><span style="color:#D8DEE9">references</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> [</span><span style="color:#81A1C1">id</span><span style="color:#D8DEE9FF">], </span><span style="color:#D8DEE9">onDelete</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">Cascade)</span></div><div class="line"><span style="color:#81A1C1">}</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><p><code>Comment</code> 모델의 <code>postId</code> 필드는 <code>Post</code> 모델의 <code>id</code> 필드를 참조합니다. 그러나 이는 플래닛스케일에서 외래 키로 구현되지 않으므로 열에 자동 색인이 없습니다. 따라서 일부 질의가 제대로 최적화되지 않을 수 있습니다. 예를 들어 특정 게시물 <code>id</code>의 모든 댓글을 질의하는 경우, 플래닛스케일은 전체 테이블 조회를 수행해야 할 수 있습니다. 플래닛스케일은 읽기를 수행한 행의 수에 대해 요금을 부과하기 때문에 느리고 비용이 많이 들 수 있습니다.</p><p>이를 피하기 위해 프리즈마의 <code>@@index</code> 인수를 사용하여 <code>postId</code> 필드에 색인을 정의할 수 있습니다.</p><pre class="shiki min-light" style="background-color:#ffffff;color:#24292eff"><div class="language-id">prisma</div><div class="code-container"><code><div class="line dim"><span style="color:#D32F2F">model</span><span style="color:#24292EFF"> </span><span style="color:#6F42C1">Post</span><span style="color:#24292EFF"> {</span></div><div class="line dim"><span style="color:#24292EFF">  id       </span><span style="color:#1976D2">Int</span><span style="color:#24292EFF">       </span><span style="color:#6F42C1">@id</span><span style="color:#24292EFF"> </span><span style="color:#6F42C1">@default</span><span style="color:#24292EFF">(</span><span style="color:#6F42C1">autoincrement</span><span style="color:#24292EFF">())</span></div><div class="line dim"><span style="color:#24292EFF">  title    </span><span style="color:#1976D2">String</span></div><div class="line dim"><span style="color:#24292EFF">  content  </span><span style="color:#1976D2">String</span></div><div class="line dim"><span style="color:#24292EFF">  likes    </span><span style="color:#1976D2">Int</span><span style="color:#24292EFF">       </span><span style="color:#6F42C1">@default</span><span style="color:#24292EFF">(</span><span style="color:#1976D2">0</span><span style="color:#24292EFF">)</span></div><div class="line dim"><span style="color:#24292EFF">  comments Comment</span><span style="color:#D32F2F">[]</span></div><div class="line dim"><span style="color:#24292EFF">}</span></div><div class="line"></div><div class="line dim"><span style="color:#D32F2F">model</span><span style="color:#24292EFF"> </span><span style="color:#6F42C1">Comment</span><span style="color:#24292EFF"> {</span></div><div class="line dim"><span style="color:#24292EFF">  id      </span><span style="color:#1976D2">Int</span><span style="color:#24292EFF">    </span><span style="color:#6F42C1">@id</span><span style="color:#24292EFF"> </span><span style="color:#6F42C1">@default</span><span style="color:#24292EFF">(</span><span style="color:#6F42C1">autoincrement</span><span style="color:#24292EFF">())</span></div><div class="line dim"><span style="color:#24292EFF">  comment </span><span style="color:#1976D2">String</span></div><div class="line dim"><span style="color:#24292EFF">  postId  </span><span style="color:#1976D2">Int</span></div><div class="line dim"><span style="color:#24292EFF">  post    Post   </span><span style="color:#6F42C1">@relation</span><span style="color:#24292EFF">(fields: [</span><span style="color:#1976D2">postId</span><span style="color:#24292EFF">], references: [</span><span style="color:#1976D2">id</span><span style="color:#24292EFF">], onDelete: </span><span style="color:#1976D2">Cascade</span><span style="color:#24292EFF">)</span></div><div class="line"></div><div class="line highlight"><span style="color:#24292EFF">  </span><span style="color:#6F42C1">@@index</span><span style="color:#24292EFF">([</span><span style="color:#1976D2">postId</span><span style="color:#24292EFF">])</span></div><div class="line dim"><span style="color:#24292EFF">}</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><pre class="shiki nord" style="background-color:#2e3440ff;color:#d8dee9ff"><div class="language-id">prisma</div><div class="code-container"><code><div class="line dim"><span style="color:#81A1C1">model</span><span style="color:#D8DEE9FF"> Post </span><span style="color:#81A1C1">{</span></div><div class="line dim"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">id</span><span style="color:#D8DEE9FF">       </span><span style="color:#8FBCBB">Int</span><span style="color:#D8DEE9FF">       </span><span style="color:#88C0D0">@id</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">@default</span><span style="color:#81A1C1">(</span><span style="color:#88C0D0">autoincrement</span><span style="color:#81A1C1">())</span></div><div class="line dim"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">title</span><span style="color:#D8DEE9FF">    </span><span style="color:#8FBCBB">String</span></div><div class="line dim"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">content</span><span style="color:#D8DEE9FF">  </span><span style="color:#8FBCBB">String</span></div><div class="line dim"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">likes</span><span style="color:#D8DEE9FF">    </span><span style="color:#8FBCBB">Int</span><span style="color:#D8DEE9FF">       </span><span style="color:#88C0D0">@default</span><span style="color:#81A1C1">(</span><span style="color:#B48EAD">0</span><span style="color:#81A1C1">)</span></div><div class="line dim"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">comments</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">Comment[]</span></div><div class="line dim"><span style="color:#81A1C1">}</span></div><div class="line"></div><div class="line dim"><span style="color:#81A1C1">model</span><span style="color:#D8DEE9FF"> Comment </span><span style="color:#81A1C1">{</span></div><div class="line dim"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">id</span><span style="color:#D8DEE9FF">      </span><span style="color:#8FBCBB">Int</span><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">@id</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">@default</span><span style="color:#81A1C1">(</span><span style="color:#88C0D0">autoincrement</span><span style="color:#81A1C1">())</span></div><div class="line dim"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">comment</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">String</span></div><div class="line dim"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">postId</span><span style="color:#D8DEE9FF">  </span><span style="color:#8FBCBB">Int</span></div><div class="line dim"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">post</span><span style="color:#D8DEE9FF">    </span><span style="color:#81A1C1">Post</span><span style="color:#D8DEE9FF">   </span><span style="color:#88C0D0">@relation</span><span style="color:#81A1C1">(</span><span style="color:#D8DEE9">fields</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> [</span><span style="color:#81A1C1">postId</span><span style="color:#D8DEE9FF">], </span><span style="color:#D8DEE9">references</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> [</span><span style="color:#81A1C1">id</span><span style="color:#D8DEE9FF">], </span><span style="color:#D8DEE9">onDelete</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">Cascade)</span></div><div class="line"></div><div class="line highlight"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">@@index</span><span style="color:#81A1C1">(</span><span style="color:#D8DEE9FF">[</span><span style="color:#81A1C1">postId</span><span style="color:#D8DEE9FF">]</span><span style="color:#81A1C1">)</span></div><div class="line dim"><span style="color:#81A1C1">}</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><p>그런 다음 <code>db push</code>를 사용하여 이 변경 사항을 스키마에 추가할 수 있습니다.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>참고</div><div class="admonitionContent_S0QG"><p>한 가지 주의해야 할 문제는 암시적 다대다 관계에는 이러한 방식으로 색인을 추가할 수 없다는 것입니다. 질의 속도나 비용이 문제라면 명시적 다대다 관계를 대신 사용할 수 있습니다.</p></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="db-push로-스키마를-변경하는-방법"><code>db push</code>로 스키마를 변경하는 방법<a href="#db-push로-스키마를-변경하는-방법" class="hash-link" aria-label="db-push로-스키마를-변경하는-방법에 대한 직접 링크" title="db-push로-스키마를-변경하는-방법에 대한 직접 링크">​</a></h2><p>플래닛스케일에 <code>db push</code>를 사용하려면 먼저 프리즈마에서 참조 무결성 에뮬레이션을 활성화해야 합니다. 참조 에뮬레이션을 활성화하지 않고 브랜치로 푸시하면 다음과 같은 오류 메시지가 나타납니다.</p><pre class="shiki min-light" style="background-color:#ffffff;color:#24292eff"><div class="code-container"><code><div class="line"><span style="color:undefined">Foreign keys cannot be created on this database.</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><pre class="shiki nord" style="background-color:#2e3440ff;color:#d8dee9ff"><div class="code-container"><code><div class="line"><span style="color:undefined">Foreign keys cannot be created on this database.</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><p>예를 들어 위의 블로그 게시물 스키마에 새 <code>excerpt</code> 필드를 추가하기로 결정했다고 가정해 보겠습니다. 먼저 새 개발 브랜치를 만들고 연결해야 합니다.</p><p>이제 <code>schema.prisma</code> 파일에 다음을 추가합니다.</p><pre class="shiki min-light" style="background-color:#ffffff;color:#24292eff"><div class="language-id">prisma</div><div class="code-container"><code><div class="line dim"><span style="color:#D32F2F">model</span><span style="color:#24292EFF"> </span><span style="color:#6F42C1">Post</span><span style="color:#24292EFF"> {</span></div><div class="line dim"><span style="color:#24292EFF">  id       </span><span style="color:#1976D2">Int</span><span style="color:#24292EFF">       </span><span style="color:#6F42C1">@id</span><span style="color:#24292EFF"> </span><span style="color:#6F42C1">@default</span><span style="color:#24292EFF">(</span><span style="color:#6F42C1">autoincrement</span><span style="color:#24292EFF">())</span></div><div class="line dim"><span style="color:#24292EFF">  title    </span><span style="color:#1976D2">String</span></div><div class="line dim"><span style="color:#24292EFF">  content  </span><span style="color:#1976D2">String</span></div><div class="line highlight"><span style="color:#24292EFF">  excerpt  </span><span style="color:#1976D2">String</span><span style="color:#D32F2F">?</span></div><div class="line dim"><span style="color:#24292EFF">  likes    </span><span style="color:#1976D2">Int</span><span style="color:#24292EFF">       </span><span style="color:#6F42C1">@default</span><span style="color:#24292EFF">(</span><span style="color:#1976D2">0</span><span style="color:#24292EFF">)</span></div><div class="line dim"><span style="color:#24292EFF">  comments Comment</span><span style="color:#D32F2F">[]</span></div><div class="line dim"><span style="color:#24292EFF">}</span></div><div class="line"></div><div class="line dim"><span style="color:#D32F2F">model</span><span style="color:#24292EFF"> </span><span style="color:#6F42C1">Comment</span><span style="color:#24292EFF"> {</span></div><div class="line dim"><span style="color:#24292EFF">  id      </span><span style="color:#1976D2">Int</span><span style="color:#24292EFF">    </span><span style="color:#6F42C1">@id</span><span style="color:#24292EFF"> </span><span style="color:#6F42C1">@default</span><span style="color:#24292EFF">(</span><span style="color:#6F42C1">autoincrement</span><span style="color:#24292EFF">())</span></div><div class="line dim"><span style="color:#24292EFF">  comment </span><span style="color:#1976D2">String</span></div><div class="line dim"><span style="color:#24292EFF">  postId  </span><span style="color:#1976D2">Int</span></div><div class="line dim"><span style="color:#24292EFF">  post    Post   </span><span style="color:#6F42C1">@relation</span><span style="color:#24292EFF">(fields: [</span><span style="color:#1976D2">postId</span><span style="color:#24292EFF">], references: [</span><span style="color:#1976D2">id</span><span style="color:#24292EFF">], onDelete: </span><span style="color:#1976D2">Cascade</span><span style="color:#24292EFF">)</span></div><div class="line"></div><div class="line dim"><span style="color:#24292EFF">  </span><span style="color:#6F42C1">@@index</span><span style="color:#24292EFF">([</span><span style="color:#1976D2">postId</span><span style="color:#24292EFF">])</span></div><div class="line dim"><span style="color:#24292EFF">}</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><pre class="shiki nord" style="background-color:#2e3440ff;color:#d8dee9ff"><div class="language-id">prisma</div><div class="code-container"><code><div class="line dim"><span style="color:#81A1C1">model</span><span style="color:#D8DEE9FF"> Post </span><span style="color:#81A1C1">{</span></div><div class="line dim"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">id</span><span style="color:#D8DEE9FF">       </span><span style="color:#8FBCBB">Int</span><span style="color:#D8DEE9FF">       </span><span style="color:#88C0D0">@id</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">@default</span><span style="color:#81A1C1">(</span><span style="color:#88C0D0">autoincrement</span><span style="color:#81A1C1">())</span></div><div class="line dim"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">title</span><span style="color:#D8DEE9FF">    </span><span style="color:#8FBCBB">String</span></div><div class="line dim"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">content</span><span style="color:#D8DEE9FF">  </span><span style="color:#8FBCBB">String</span></div><div class="line highlight"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">excerpt</span><span style="color:#D8DEE9FF">  </span><span style="color:#8FBCBB">String</span><span style="color:#81A1C1">?</span></div><div class="line dim"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">likes</span><span style="color:#D8DEE9FF">    </span><span style="color:#8FBCBB">Int</span><span style="color:#D8DEE9FF">       </span><span style="color:#88C0D0">@default</span><span style="color:#81A1C1">(</span><span style="color:#B48EAD">0</span><span style="color:#81A1C1">)</span></div><div class="line dim"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">comments</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">Comment[]</span></div><div class="line dim"><span style="color:#81A1C1">}</span></div><div class="line"></div><div class="line dim"><span style="color:#81A1C1">model</span><span style="color:#D8DEE9FF"> Comment </span><span style="color:#81A1C1">{</span></div><div class="line dim"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">id</span><span style="color:#D8DEE9FF">      </span><span style="color:#8FBCBB">Int</span><span style="color:#D8DEE9FF">    </span><span style="color:#88C0D0">@id</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">@default</span><span style="color:#81A1C1">(</span><span style="color:#88C0D0">autoincrement</span><span style="color:#81A1C1">())</span></div><div class="line dim"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">comment</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">String</span></div><div class="line dim"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">postId</span><span style="color:#D8DEE9FF">  </span><span style="color:#8FBCBB">Int</span></div><div class="line dim"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">post</span><span style="color:#D8DEE9FF">    </span><span style="color:#81A1C1">Post</span><span style="color:#D8DEE9FF">   </span><span style="color:#88C0D0">@relation</span><span style="color:#81A1C1">(</span><span style="color:#D8DEE9">fields</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> [</span><span style="color:#81A1C1">postId</span><span style="color:#D8DEE9FF">], </span><span style="color:#D8DEE9">references</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> [</span><span style="color:#81A1C1">id</span><span style="color:#D8DEE9FF">], </span><span style="color:#D8DEE9">onDelete</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">Cascade)</span></div><div class="line"></div><div class="line dim"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">@@index</span><span style="color:#81A1C1">(</span><span style="color:#D8DEE9FF">[</span><span style="color:#81A1C1">postId</span><span style="color:#D8DEE9FF">]</span><span style="color:#81A1C1">)</span></div><div class="line dim"><span style="color:#81A1C1">}</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><p>이 변경 사항을 푸시하려면 터미널에서 프로젝트 디렉터리로 이동하여 다음을 실행합니다.</p><pre class="shiki min-light" style="background-color:#ffffff;color:#24292eff"><div class="language-id">shell</div><div class="code-container"><code><div class="line"><span style="color:#24292EFF">npx prisma db push</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><pre class="shiki nord" style="background-color:#2e3440ff;color:#d8dee9ff"><div class="language-id">shell</div><div class="code-container"><code><div class="line"><span style="color:#D8DEE9FF">npx prisma db push</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><p>개발 브랜치의 변경 사항에 만족하면 배포 요청을 열어 프로덕션 브랜치에 배포할 수 있습니다.</p><p>더 많은 예시는 플래닛스케일의 <a href="https://docs.planetscale.com/tutorials/automatic-prisma-migrations" target="_blank" rel="noopener noreferrer">프리즈마를 이용한 자동 마이그레이션</a>을 참고하세요.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="분석-후-누락된-관계를-추가하는-방법">분석 후 누락된 관계를 추가하는 방법<a href="#분석-후-누락된-관계를-추가하는-방법" class="hash-link" aria-label="분석 후 누락된 관계를 추가하는 방법에 대한 직접 링크" title="분석 후 누락된 관계를 추가하는 방법에 대한 직접 링크">​</a></h2><p><code>npx prisma db pull</code>로 분석한 후 얻은 스키마에 일부 관계가 누락되었을 수 있습니다.</p><p>예를 들어 다음 스키마에는 <code>User</code>와 <code>Post</code> 모델 간의 관계가 누락되었습니다.</p><pre class="shiki min-light" style="background-color:#ffffff;color:#24292eff"><div class="language-id">prisma</div><div class="code-container"><code><div class="line"><span style="color:#D32F2F">model</span><span style="color:#24292EFF"> </span><span style="color:#6F42C1">Post</span><span style="color:#24292EFF"> {</span></div><div class="line"><span style="color:#24292EFF">  id        </span><span style="color:#1976D2">Int</span><span style="color:#24292EFF">      </span><span style="color:#6F42C1">@id</span><span style="color:#24292EFF"> </span><span style="color:#6F42C1">@default</span><span style="color:#24292EFF">(</span><span style="color:#6F42C1">autoincrement</span><span style="color:#24292EFF">())</span></div><div class="line"><span style="color:#24292EFF">  createdAt </span><span style="color:#1976D2">DateTime</span><span style="color:#24292EFF"> </span><span style="color:#6F42C1">@default</span><span style="color:#24292EFF">(</span><span style="color:#6F42C1">now</span><span style="color:#24292EFF">())</span></div><div class="line"><span style="color:#24292EFF">  title     </span><span style="color:#1976D2">String</span><span style="color:#24292EFF">   </span><span style="color:#6F42C1">@db.VarChar</span><span style="color:#24292EFF">(</span><span style="color:#1976D2">255</span><span style="color:#24292EFF">)</span></div><div class="line"><span style="color:#24292EFF">  content   </span><span style="color:#1976D2">String</span><span style="color:#D32F2F">?</span></div><div class="line"><span style="color:#24292EFF">  authorId  </span><span style="color:#1976D2">Int</span></div><div class="line"></div><div class="line"><span style="color:#24292EFF">  </span><span style="color:#6F42C1">@@index</span><span style="color:#24292EFF">([</span><span style="color:#1976D2">authorId</span><span style="color:#24292EFF">])</span></div><div class="line"><span style="color:#24292EFF">}</span></div><div class="line"></div><div class="line"><span style="color:#D32F2F">model</span><span style="color:#24292EFF"> </span><span style="color:#6F42C1">User</span><span style="color:#24292EFF"> {</span></div><div class="line"><span style="color:#24292EFF">  id    </span><span style="color:#1976D2">Int</span><span style="color:#24292EFF">     </span><span style="color:#6F42C1">@id</span><span style="color:#24292EFF"> </span><span style="color:#6F42C1">@default</span><span style="color:#24292EFF">(</span><span style="color:#6F42C1">autoincrement</span><span style="color:#24292EFF">())</span></div><div class="line"><span style="color:#24292EFF">  email </span><span style="color:#1976D2">String</span><span style="color:#24292EFF">  </span><span style="color:#6F42C1">@unique</span></div><div class="line"><span style="color:#24292EFF">  name  </span><span style="color:#1976D2">String</span><span style="color:#D32F2F">?</span></div><div class="line"><span style="color:#24292EFF">}</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><pre class="shiki nord" style="background-color:#2e3440ff;color:#d8dee9ff"><div class="language-id">prisma</div><div class="code-container"><code><div class="line"><span style="color:#81A1C1">model</span><span style="color:#D8DEE9FF"> Post </span><span style="color:#81A1C1">{</span></div><div class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">id</span><span style="color:#D8DEE9FF">        </span><span style="color:#8FBCBB">Int</span><span style="color:#D8DEE9FF">      </span><span style="color:#88C0D0">@id</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">@default</span><span style="color:#81A1C1">(</span><span style="color:#88C0D0">autoincrement</span><span style="color:#81A1C1">())</span></div><div class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">createdAt</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">DateTime</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">@default</span><span style="color:#81A1C1">(</span><span style="color:#88C0D0">now</span><span style="color:#81A1C1">())</span></div><div class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">title</span><span style="color:#D8DEE9FF">     </span><span style="color:#8FBCBB">String</span><span style="color:#D8DEE9FF">   </span><span style="color:#88C0D0">@db.VarChar</span><span style="color:#81A1C1">(</span><span style="color:#B48EAD">255</span><span style="color:#81A1C1">)</span></div><div class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">content</span><span style="color:#D8DEE9FF">   </span><span style="color:#8FBCBB">String</span><span style="color:#81A1C1">?</span></div><div class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">authorId</span><span style="color:#D8DEE9FF">  </span><span style="color:#8FBCBB">Int</span></div><div class="line"></div><div class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">@@index</span><span style="color:#81A1C1">(</span><span style="color:#D8DEE9FF">[</span><span style="color:#81A1C1">authorId</span><span style="color:#D8DEE9FF">]</span><span style="color:#81A1C1">)</span></div><div class="line"><span style="color:#81A1C1">}</span></div><div class="line"></div><div class="line"><span style="color:#81A1C1">model</span><span style="color:#D8DEE9FF"> User </span><span style="color:#81A1C1">{</span></div><div class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">id</span><span style="color:#D8DEE9FF">    </span><span style="color:#8FBCBB">Int</span><span style="color:#D8DEE9FF">     </span><span style="color:#88C0D0">@id</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">@default</span><span style="color:#81A1C1">(</span><span style="color:#88C0D0">autoincrement</span><span style="color:#81A1C1">())</span></div><div class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">email</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">String</span><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">@unique</span></div><div class="line"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">name</span><span style="color:#D8DEE9FF">  </span><span style="color:#8FBCBB">String</span><span style="color:#81A1C1">?</span></div><div class="line"><span style="color:#81A1C1">}</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><p>이 경우 관계를 직접 추가해야 합니다.</p><pre class="shiki min-light" style="background-color:#ffffff;color:#24292eff"><div class="language-id">prisma</div><div class="code-container"><code><div class="line dim"><span style="color:#D32F2F">model</span><span style="color:#24292EFF"> </span><span style="color:#6F42C1">Post</span><span style="color:#24292EFF"> {</span></div><div class="line dim"><span style="color:#24292EFF">  id        </span><span style="color:#1976D2">Int</span><span style="color:#24292EFF">      </span><span style="color:#6F42C1">@id</span><span style="color:#24292EFF"> </span><span style="color:#6F42C1">@default</span><span style="color:#24292EFF">(</span><span style="color:#6F42C1">autoincrement</span><span style="color:#24292EFF">())</span></div><div class="line dim"><span style="color:#24292EFF">  createdAt </span><span style="color:#1976D2">DateTime</span><span style="color:#24292EFF"> </span><span style="color:#6F42C1">@default</span><span style="color:#24292EFF">(</span><span style="color:#6F42C1">now</span><span style="color:#24292EFF">())</span></div><div class="line dim"><span style="color:#24292EFF">  title     </span><span style="color:#1976D2">String</span><span style="color:#24292EFF">   </span><span style="color:#6F42C1">@db.VarChar</span><span style="color:#24292EFF">(</span><span style="color:#1976D2">255</span><span style="color:#24292EFF">)</span></div><div class="line dim"><span style="color:#24292EFF">  content   </span><span style="color:#1976D2">String</span><span style="color:#D32F2F">?</span></div><div class="line highlight"><span style="color:#24292EFF">  author    User     </span><span style="color:#6F42C1">@relation</span><span style="color:#24292EFF">(fields: [</span><span style="color:#1976D2">authorId</span><span style="color:#24292EFF">], references: [</span><span style="color:#1976D2">id</span><span style="color:#24292EFF">])</span></div><div class="line dim"><span style="color:#24292EFF">  authorId  </span><span style="color:#1976D2">Int</span></div><div class="line"></div><div class="line dim"><span style="color:#24292EFF">  </span><span style="color:#6F42C1">@@index</span><span style="color:#24292EFF">([</span><span style="color:#1976D2">authorId</span><span style="color:#24292EFF">])</span></div><div class="line dim"><span style="color:#24292EFF">}</span></div><div class="line"></div><div class="line dim"><span style="color:#D32F2F">model</span><span style="color:#24292EFF"> </span><span style="color:#6F42C1">User</span><span style="color:#24292EFF"> {</span></div><div class="line dim"><span style="color:#24292EFF">  id    </span><span style="color:#1976D2">Int</span><span style="color:#24292EFF">     </span><span style="color:#6F42C1">@id</span><span style="color:#24292EFF"> </span><span style="color:#6F42C1">@default</span><span style="color:#24292EFF">(</span><span style="color:#6F42C1">autoincrement</span><span style="color:#24292EFF">())</span></div><div class="line dim"><span style="color:#24292EFF">  email </span><span style="color:#1976D2">String</span><span style="color:#24292EFF">  </span><span style="color:#6F42C1">@unique</span></div><div class="line dim"><span style="color:#24292EFF">  name  </span><span style="color:#1976D2">String</span><span style="color:#D32F2F">?</span></div><div class="line highlight"><span style="color:#24292EFF">  posts Post</span><span style="color:#D32F2F">[]</span></div><div class="line dim"><span style="color:#24292EFF">}</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><pre class="shiki nord" style="background-color:#2e3440ff;color:#d8dee9ff"><div class="language-id">prisma</div><div class="code-container"><code><div class="line dim"><span style="color:#81A1C1">model</span><span style="color:#D8DEE9FF"> Post </span><span style="color:#81A1C1">{</span></div><div class="line dim"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">id</span><span style="color:#D8DEE9FF">        </span><span style="color:#8FBCBB">Int</span><span style="color:#D8DEE9FF">      </span><span style="color:#88C0D0">@id</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">@default</span><span style="color:#81A1C1">(</span><span style="color:#88C0D0">autoincrement</span><span style="color:#81A1C1">())</span></div><div class="line dim"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">createdAt</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">DateTime</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">@default</span><span style="color:#81A1C1">(</span><span style="color:#88C0D0">now</span><span style="color:#81A1C1">())</span></div><div class="line dim"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">title</span><span style="color:#D8DEE9FF">     </span><span style="color:#8FBCBB">String</span><span style="color:#D8DEE9FF">   </span><span style="color:#88C0D0">@db.VarChar</span><span style="color:#81A1C1">(</span><span style="color:#B48EAD">255</span><span style="color:#81A1C1">)</span></div><div class="line dim"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">content</span><span style="color:#D8DEE9FF">   </span><span style="color:#8FBCBB">String</span><span style="color:#81A1C1">?</span></div><div class="line highlight"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">author</span><span style="color:#D8DEE9FF">    </span><span style="color:#81A1C1">User</span><span style="color:#D8DEE9FF">     </span><span style="color:#88C0D0">@relation</span><span style="color:#81A1C1">(</span><span style="color:#D8DEE9">fields</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> [</span><span style="color:#81A1C1">authorId</span><span style="color:#D8DEE9FF">], </span><span style="color:#D8DEE9">references</span><span style="color:#ECEFF4">:</span><span style="color:#D8DEE9FF"> [</span><span style="color:#81A1C1">id</span><span style="color:#D8DEE9FF">]</span><span style="color:#81A1C1">)</span></div><div class="line dim"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">authorId</span><span style="color:#D8DEE9FF">  </span><span style="color:#8FBCBB">Int</span></div><div class="line"></div><div class="line dim"><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">@@index</span><span style="color:#81A1C1">(</span><span style="color:#D8DEE9FF">[</span><span style="color:#81A1C1">authorId</span><span style="color:#D8DEE9FF">]</span><span style="color:#81A1C1">)</span></div><div class="line dim"><span style="color:#81A1C1">}</span></div><div class="line"></div><div class="line dim"><span style="color:#81A1C1">model</span><span style="color:#D8DEE9FF"> User </span><span style="color:#81A1C1">{</span></div><div class="line dim"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">id</span><span style="color:#D8DEE9FF">    </span><span style="color:#8FBCBB">Int</span><span style="color:#D8DEE9FF">     </span><span style="color:#88C0D0">@id</span><span style="color:#D8DEE9FF"> </span><span style="color:#88C0D0">@default</span><span style="color:#81A1C1">(</span><span style="color:#88C0D0">autoincrement</span><span style="color:#81A1C1">())</span></div><div class="line dim"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">email</span><span style="color:#D8DEE9FF"> </span><span style="color:#8FBCBB">String</span><span style="color:#D8DEE9FF">  </span><span style="color:#88C0D0">@unique</span></div><div class="line dim"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">name</span><span style="color:#D8DEE9FF">  </span><span style="color:#8FBCBB">String</span><span style="color:#81A1C1">?</span></div><div class="line highlight"><span style="color:#D8DEE9FF">  </span><span style="color:#D8DEE9">posts</span><span style="color:#D8DEE9FF"> </span><span style="color:#81A1C1">Post[]</span></div><div class="line dim"><span style="color:#81A1C1">}</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><p>자세한 예시는 <a href="https://www.prisma.io/docs/getting-started/setup-prisma/add-to-existing-project/relational-databases/introspection-typescript-planetscale" target="_blank" rel="noopener noreferrer">플래닛스케일 시작하기 가이드</a>를 참고하세요.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="문서 페이지"><a class="pagination-nav__link pagination-nav__link--prev" href="/doc-archive/docs/prisma/components/guides/seed-database"><div class="pagination-nav__sublabel">이전</div><div class="pagination-nav__label">데이터베이스 시드하기</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/doc-archive/docs/prisma/troubleshooting"><div class="pagination-nav__sublabel">다음</div><div class="pagination-nav__label">문제 해결</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#플래닛스케일이란" class="table-of-contents__link toc-highlight">플래닛스케일이란?</a></li><li><a href="#다른-데이터베이스-제공자와의-공통점" class="table-of-contents__link toc-highlight">다른 데이터베이스 제공자와의 공통점</a></li><li><a href="#고려해야-할-차이점" class="table-of-contents__link toc-highlight">고려해야 할 차이점</a></li><li><a href="#브랜치를-사용하고-요청을-배포하는-방법" class="table-of-contents__link toc-highlight">브랜치를 사용하고 요청을 배포하는 방법</a></li><li><a href="#플리즈마-클라이언트에서-관계를-에뮬레이트하는-방법" class="table-of-contents__link toc-highlight">플리즈마 클라이언트에서 관계를 에뮬레이트하는 방법</a></li><li><a href="#외래-키의-색인을-만드는-방법" class="table-of-contents__link toc-highlight">외래 키의 색인을 만드는 방법</a></li><li><a href="#db-push로-스키마를-변경하는-방법" class="table-of-contents__link toc-highlight"><code>db push</code>로 스키마를 변경하는 방법</a></li><li><a href="#분석-후-누락된-관계를-추가하는-방법" class="table-of-contents__link toc-highlight">분석 후 누락된 관계를 추가하는 방법</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/doc-archive/docs/javascript/keyboard-keydown-and-keyup">JavaScript</a></li><li class="footer__item"><a class="footer__link-item" href="/doc-archive/docs/typescript">TypeScript</a></li><li class="footer__item"><a class="footer__link-item" href="/doc-archive/docs/react">React</a></li><li class="footer__item"><a class="footer__link-item" href="/doc-archive/docs/nextjs">Next.js</a></li><li class="footer__item"><a class="footer__link-item" href="/doc-archive/docs/electron">Electron</a></li><li class="footer__item"><a class="footer__link-item" href="/doc-archive/docs/jest">Jest</a></li><li class="footer__item"><a class="footer__link-item" href="/doc-archive/docs/cypress">Cypress</a></li><li class="footer__item"><a class="footer__link-item" href="/doc-archive/docs/playwright">Playwright</a></li><li class="footer__item"><a class="footer__link-item" href="/doc-archive/docs/zustand">Zustand</a></li><li class="footer__item"><a class="footer__link-item" href="/doc-archive/docs/tanstack-query">TanStack Query</a></li><li class="footer__item"><a class="footer__link-item" href="/doc-archive/docs/nextauthjs">NextAuth.js</a></li><li class="footer__item"><a class="footer__link-item" href="/doc-archive/docs/vanilla-extract">Vanilla Extract</a></li><li class="footer__item"><a class="footer__link-item" href="/doc-archive/docs/chakra-ui">Chakra UI</a></li><li class="footer__item"><a class="footer__link-item" href="/doc-archive/docs/prisma">Prisma</a></li><li class="footer__item"><a class="footer__link-item" href="/doc-archive/docs/docusaurus">Docusaurus</a></li><li class="footer__item"><a class="footer__link-item" href="/doc-archive/docs/emmet">Emmet</a></li><li class="footer__item"><a class="footer__link-item" href="/doc-archive/docs/yup">Yup</a></li><li class="footer__item"><a class="footer__link-item" href="/doc-archive/docs/regular-expression">정규 표현식</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/doc-archive/source">출처</a></li><li class="footer__item"><a href="https://docs-glossary.vercel.app/" target="_blank" rel="noopener noreferrer" class="footer__link-item">용어집<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/autroshot/doc-archive" target="_blank" rel="noopener noreferrer" class="footer__link-item">깃허브<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Built with Docusaurus.</div></div></div></footer></div>
<script src="/doc-archive/assets/js/runtime~main.b603ba04.js"></script>
<script src="/doc-archive/assets/js/main.db4ec411.js"></script>
</body>
</html>