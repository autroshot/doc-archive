<!doctype html>
<html lang="ko" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-nextauthjs/basic/client-api">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">클라이언트 API | 문서 보관소</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://autroshot.github.io/doc-archive/docs/nextauthjs/basic/client-api"><meta data-rh="true" name="docusaurus_locale" content="ko"><meta data-rh="true" name="docsearch:language" content="ko"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="클라이언트 API | 문서 보관소"><meta data-rh="true" name="description" content="넥스트인증 클라이언트 라이브러리를 사용하면 리액트 앱의 세션과 쉽게 상호 작용할 수 있습니다."><meta data-rh="true" property="og:description" content="넥스트인증 클라이언트 라이브러리를 사용하면 리액트 앱의 세션과 쉽게 상호 작용할 수 있습니다."><link data-rh="true" rel="icon" href="/doc-archive/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://autroshot.github.io/doc-archive/docs/nextauthjs/basic/client-api"><link data-rh="true" rel="alternate" href="https://autroshot.github.io/doc-archive/docs/nextauthjs/basic/client-api" hreflang="ko"><link data-rh="true" rel="alternate" href="https://autroshot.github.io/doc-archive/docs/nextauthjs/basic/client-api" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XLF32HX6M9"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-XLF32HX6M9",{anonymize_ip:!0})</script><link rel="stylesheet" href="/doc-archive/assets/css/styles.0fefe565.css">
<link rel="preload" href="/doc-archive/assets/js/runtime~main.37bcf7c7.js" as="script">
<link rel="preload" href="/doc-archive/assets/js/main.0f06cf39.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="본문으로 건너뛰기"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">본문으로 건너뛰기</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/doc-archive/"><div class="navbar__logo"><img src="/doc-archive/img/logo.svg" alt="사이트 로고" class="themedImage_ToTc themedImage--light_HNdA"><img src="/doc-archive/img/logo.svg" alt="사이트 로고" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">문서 보관소</b></a><a class="navbar__item navbar__link" href="/doc-archive/docs/javascript/keyboard-keydown-and-keyup">JS</a><a class="navbar__item navbar__link" href="/doc-archive/docs/typescript">TS</a><a class="navbar__item navbar__link" href="/doc-archive/docs/react">React</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">프레임워크</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/doc-archive/docs/nextjs">Next.js</a></li><li><a class="dropdown__link" href="/doc-archive/docs/electron">Electron</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">테스트</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/doc-archive/docs/jest">Jest</a></li><li><a class="dropdown__link" href="/doc-archive/docs/cypress">Cypress</a></li><li><a class="dropdown__link" href="/doc-archive/docs/playwright">Playwright</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">상태 관리</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/doc-archive/docs/zustand">Zustand</a></li><li><a class="dropdown__link" href="/doc-archive/docs/tanstack-query">TanStack Query</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">기타</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/doc-archive/docs/nextauthjs">NextAuth.js</a></li><li><a class="dropdown__link" href="/doc-archive/docs/vanilla-extract">Vanilla Extract</a></li><li><a class="dropdown__link" href="/doc-archive/docs/tailwind-css">Tailwind CSS</a></li><li><a class="dropdown__link" href="/doc-archive/docs/chakra-ui">Chakra UI</a></li><li><a class="dropdown__link" href="/doc-archive/docs/prisma">Prisma</a></li><li><a class="dropdown__link" href="/doc-archive/docs/docusaurus">Docusaurus</a></li><li><a class="dropdown__link" href="/doc-archive/docs/emmet">Emmet</a></li><li><a class="dropdown__link" href="/doc-archive/docs/yup">Yup</a></li><li><a class="dropdown__link" href="/doc-archive/docs/regular-expression">정규 표현식</a></li></ul></div><a class="navbar__item navbar__link" href="/doc-archive/docs/concepts/domain-name">개념</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/doc-archive/source">출처</a><a href="https://docs-glossary.vercel.app/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">용어집<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/autroshot/doc-archive" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="깃허브"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="어두운 모드와 밝은 모드 전환하기 (현재 밝은 모드)" aria-label="어두운 모드와 밝은 모드 전환하기 (현재 밝은 모드)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="검색하기" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="맨 위로 스크롤하기" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/doc-archive/"><img src="/doc-archive/img/logo.svg" alt="사이트 로고" class="themedImage_ToTc themedImage--light_HNdA"><img src="/doc-archive/img/logo.svg" alt="사이트 로고" class="themedImage_ToTc themedImage--dark_i4oU"><b>문서 보관소</b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/doc-archive/docs/nextauthjs">소개</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/doc-archive/docs/nextauthjs/getting-started">시작하기</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/doc-archive/docs/nextauthjs/basic/client-api">기본</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/doc-archive/docs/nextauthjs/basic/client-api">클라이언트 API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/doc-archive/docs/nextauthjs/basic/rest-api">REST API</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/doc-archive/docs/nextauthjs/configuration/initialization">설정</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/doc-archive/docs/nextauthjs/providers/credentials">제공자</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/doc-archive/docs/nextauthjs/deployment">배포</a></li></ul></nav><button type="button" title="사이드바 숨기기" aria-label="사이드바 숨기기" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="홈" class="breadcrumbs__link" href="/doc-archive/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">기본</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">클라이언트 API</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">이 페이지에서</button></div><div class="theme-doc-markdown markdown"><h1>클라이언트 API</h1><p>넥스트인증 클라이언트 라이브러리를 사용하면 리액트 앱의 세션과 쉽게 상호 작용할 수 있습니다.</p><p>예시 세션 객체:</p><pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4"><div class="language-id">json</div><div class="code-container"><code><div class="line"><span style="color:#D4D4D4">{</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#F44747">user</span><span style="color:#D4D4D4">: {</span></div><div class="line"><span style="color:#D4D4D4">    </span><span style="color:#F44747">name</span><span style="color:#D4D4D4">: </span><span style="color:#F44747">string</span></div><div class="line"><span style="color:#D4D4D4">    </span><span style="color:#F44747">email:</span><span style="color:#D4D4D4"> </span><span style="color:#F44747">string</span></div><div class="line"><span style="color:#D4D4D4">    </span><span style="color:#F44747">image:</span><span style="color:#D4D4D4"> </span><span style="color:#F44747">string</span></div><div class="line"><span style="color:#D4D4D4">  },</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#F44747">expires</span><span style="color:#D4D4D4">: </span><span style="color:#F44747">Date</span><span style="color:#D4D4D4"> </span><span style="color:#6A9955">// 세션 내의 토큰의 만료가 아니라 세션 자체의 만료입니다.</span></div><div class="line"><span style="color:#D4D4D4">}</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4"><div class="language-id">json</div><div class="code-container"><code><div class="line"><span style="color:#D4D4D4">{</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#F44747">user</span><span style="color:#D4D4D4">: {</span></div><div class="line"><span style="color:#D4D4D4">    </span><span style="color:#F44747">name</span><span style="color:#D4D4D4">: </span><span style="color:#F44747">string</span></div><div class="line"><span style="color:#D4D4D4">    </span><span style="color:#F44747">email:</span><span style="color:#D4D4D4"> </span><span style="color:#F44747">string</span></div><div class="line"><span style="color:#D4D4D4">    </span><span style="color:#F44747">image:</span><span style="color:#D4D4D4"> </span><span style="color:#F44747">string</span></div><div class="line"><span style="color:#D4D4D4">  },</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#F44747">expires</span><span style="color:#D4D4D4">: </span><span style="color:#F44747">Date</span><span style="color:#D4D4D4"> </span><span style="color:#6A9955">// 세션 내의 토큰의 만료가 아니라 세션 자체의 만료입니다.</span></div><div class="line"><span style="color:#D4D4D4">}</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>팁</div><div class="admonitionContent_S0QG"><p>클라이언트에 반환된 세션 데이터에는 세션 토큰 또는 OAuth 토큰과 같은 민감한 정보가 포함되어 있지 않습니다. 여기에는 설명을 위해 로그인한 사용자에 대한 정보(예: 이름, 이메일, 이미지)를 페이지에 표시하는 데 필요한 데이터가 들어 있는 최소한의 페이로드가 포함됩니다.</p><p>세션 객체에서 추가 데이터를 반환해야 하는 경우 세션 콜백을 사용하여 클라이언트에 반환된 세션 객체를 커스타마이즈할 수 있습니다.</p></div></div><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>참고</div><div class="admonitionContent_S0QG"><p><code>expires</code> 값은 순환됩니다. 즉, REST API에서 세션을 검색할 때마다 이 값도 갱신되어 세션 만료를 방지합니다.</p></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="usesession"><code>useSession()</code><a href="#usesession" class="hash-link" aria-label="usesession에 대한 직접 링크" title="usesession에 대한 직접 링크">​</a></h2><ul><li>클라이언트 측 - 예</li><li>서버 측 - 아니오</li></ul><p>넥스트인증 클라이언트의 <code>useSession()</code> 리액트 훅은 누군가 로그인했는지 확인하는 가장 쉬운 방법입니다.</p><p><a href="https://next-auth.js.org/getting-started/client#sessionprovider" target="_blank" rel="noopener noreferrer"><code>SessionProvider</code></a>가 <code>pages/_app.js</code>에 추가되었는지 확인해야 합니다.</p><p>예시:</p><pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4"><div class="language-id">jsx</div><div class="code-container"><code><div class="line"><span style="color:#C586C0">import</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">useSession</span><span style="color:#D4D4D4"> } </span><span style="color:#C586C0">from</span><span style="color:#D4D4D4"> </span><span style="color:#CE9178">&quot;next-auth/react&quot;</span></div><div class="line"></div><div class="line"><span style="color:#C586C0">export</span><span style="color:#D4D4D4"> </span><span style="color:#C586C0">default</span><span style="color:#D4D4D4"> </span><span style="color:#569CD6">function</span><span style="color:#D4D4D4"> </span><span style="color:#DCDCAA">Component</span><span style="color:#D4D4D4">() {</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#569CD6">const</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">data</span><span style="color:#D4D4D4">: </span><span style="color:#4FC1FF">session</span><span style="color:#D4D4D4">, </span><span style="color:#4FC1FF">status</span><span style="color:#D4D4D4"> } = </span><span style="color:#DCDCAA">useSession</span><span style="color:#D4D4D4">()</span></div><div class="line"></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#C586C0">if</span><span style="color:#D4D4D4"> (</span><span style="color:#9CDCFE">status</span><span style="color:#D4D4D4"> === </span><span style="color:#CE9178">&quot;authenticated&quot;</span><span style="color:#D4D4D4">) {</span></div><div class="line"><span style="color:#D4D4D4">    </span><span style="color:#C586C0">return</span><span style="color:#D4D4D4"> </span><span style="color:#808080">&lt;</span><span style="color:#569CD6">p</span><span style="color:#808080">&gt;</span><span style="color:#D4D4D4">Signed in as </span><span style="color:#569CD6">{</span><span style="color:#9CDCFE">session</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">user</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">email</span><span style="color:#569CD6">}</span><span style="color:#808080">&lt;/</span><span style="color:#569CD6">p</span><span style="color:#808080">&gt;</span></div><div class="line"><span style="color:#D4D4D4">  }</span></div><div class="line"></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#C586C0">return</span><span style="color:#D4D4D4"> </span><span style="color:#808080">&lt;</span><span style="color:#569CD6">a</span><span style="color:#D4D4D4"> </span><span style="color:#9CDCFE">href</span><span style="color:#D4D4D4">=</span><span style="color:#CE9178">&quot;/api/auth/signin&quot;</span><span style="color:#808080">&gt;</span><span style="color:#D4D4D4">Sign in</span><span style="color:#808080">&lt;/</span><span style="color:#569CD6">a</span><span style="color:#808080">&gt;</span></div><div class="line"><span style="color:#D4D4D4">}</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4"><div class="language-id">jsx</div><div class="code-container"><code><div class="line"><span style="color:#C586C0">import</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">useSession</span><span style="color:#D4D4D4"> } </span><span style="color:#C586C0">from</span><span style="color:#D4D4D4"> </span><span style="color:#CE9178">&quot;next-auth/react&quot;</span></div><div class="line"></div><div class="line"><span style="color:#C586C0">export</span><span style="color:#D4D4D4"> </span><span style="color:#C586C0">default</span><span style="color:#D4D4D4"> </span><span style="color:#569CD6">function</span><span style="color:#D4D4D4"> </span><span style="color:#DCDCAA">Component</span><span style="color:#D4D4D4">() {</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#569CD6">const</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">data</span><span style="color:#D4D4D4">: </span><span style="color:#4FC1FF">session</span><span style="color:#D4D4D4">, </span><span style="color:#4FC1FF">status</span><span style="color:#D4D4D4"> } = </span><span style="color:#DCDCAA">useSession</span><span style="color:#D4D4D4">()</span></div><div class="line"></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#C586C0">if</span><span style="color:#D4D4D4"> (</span><span style="color:#9CDCFE">status</span><span style="color:#D4D4D4"> === </span><span style="color:#CE9178">&quot;authenticated&quot;</span><span style="color:#D4D4D4">) {</span></div><div class="line"><span style="color:#D4D4D4">    </span><span style="color:#C586C0">return</span><span style="color:#D4D4D4"> </span><span style="color:#808080">&lt;</span><span style="color:#569CD6">p</span><span style="color:#808080">&gt;</span><span style="color:#D4D4D4">Signed in as </span><span style="color:#569CD6">{</span><span style="color:#9CDCFE">session</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">user</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">email</span><span style="color:#569CD6">}</span><span style="color:#808080">&lt;/</span><span style="color:#569CD6">p</span><span style="color:#808080">&gt;</span></div><div class="line"><span style="color:#D4D4D4">  }</span></div><div class="line"></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#C586C0">return</span><span style="color:#D4D4D4"> </span><span style="color:#808080">&lt;</span><span style="color:#569CD6">a</span><span style="color:#D4D4D4"> </span><span style="color:#9CDCFE">href</span><span style="color:#D4D4D4">=</span><span style="color:#CE9178">&quot;/api/auth/signin&quot;</span><span style="color:#808080">&gt;</span><span style="color:#D4D4D4">Sign in</span><span style="color:#808080">&lt;/</span><span style="color:#569CD6">a</span><span style="color:#808080">&gt;</span></div><div class="line"><span style="color:#D4D4D4">}</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><p><code>useSession()</code>은 다음 두 개의 값을 포함하는 객체를 반환합니다.</p><ul><li><code>data</code> - 세 가지 값이 될 수 있습니다.<ul><li>세션을 아직 가져오지 않았을 때 <code>undefined</code></li><li>세션 검색에 실패한 경우 <code>null</code></li><li>성공할 경우 <code>Session</code></li></ul></li><li><code>status</code> - 가능한 세 가지 세션 상태에 대한 열거형 매핑 <code>&quot;loading&quot; | &quot;authenticated&quot; | &quot;unauthenticated&quot;</code></li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="세션이-필요">세션이 필요<a href="#세션이-필요" class="hash-link" aria-label="세션이 필요에 대한 직접 링크" title="세션이 필요에 대한 직접 링크">​</a></h3><p>넥스트의 <code>getServerSideProps</code>와 <code>getInitialProps</code> 작동 방식 때문에, 모든 보호된 페이지 로드는 세션이 유효한지 확인한 이후에 요청된 페이지(SSR)를 생성하기 위해 서버 측 요청을 해야 합니다. 이렇게 하면 서버 부하가 증가하므로 클라이언트 요청에 능숙하다면 대안이 있습니다. <code>useSession</code>을 사용해 항상 유효한 세션이 있는지 확인하는 것입니다.</p><p>초기 로드 상태 이후에 세션을 찾지 못한 경우 적절한 응답을 할 수 있습니다. 기본 동작은 사용자를 로그인 페이지로 리디렉션하는 것입니다. 여기서 로그인에 성공하면 시작한 페이지로 다시 보내집니다. 다른 작업을 수행하고 싶다면 <code>onFail()</code> 콜백을 정의합니다.</p><p>예시:</p><pre class="shiki dark-plus with-title" style="background-color:#1E1E1E;color:#D4D4D4" title="pages/protected.jsx"><div class="code-title">pages/protected.jsx</div><div class="language-id">jsx</div><div class="code-container"><code><div class="line"><span style="color:#C586C0">import</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">useSession</span><span style="color:#D4D4D4"> } </span><span style="color:#C586C0">from</span><span style="color:#D4D4D4"> </span><span style="color:#CE9178">&quot;next-auth/react&quot;</span></div><div class="line"></div><div class="line"><span style="color:#C586C0">export</span><span style="color:#D4D4D4"> </span><span style="color:#C586C0">default</span><span style="color:#D4D4D4"> </span><span style="color:#569CD6">function</span><span style="color:#D4D4D4"> </span><span style="color:#DCDCAA">Admin</span><span style="color:#D4D4D4">() {</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#569CD6">const</span><span style="color:#D4D4D4"> { </span><span style="color:#4FC1FF">status</span><span style="color:#D4D4D4"> } = </span><span style="color:#DCDCAA">useSession</span><span style="color:#D4D4D4">({</span></div><div class="line"><span style="color:#D4D4D4">    </span><span style="color:#9CDCFE">required:</span><span style="color:#D4D4D4"> </span><span style="color:#569CD6">true</span><span style="color:#D4D4D4">,</span></div><div class="line"><span style="color:#D4D4D4">    </span><span style="color:#DCDCAA">onUnauthenticated</span><span style="color:#D4D4D4">() {</span></div><div class="line"><span style="color:#D4D4D4">      </span><span style="color:#6A9955">// 인증받지 않은 사용자는 이곳에서 처리합니다.</span></div><div class="line"><span style="color:#D4D4D4">    },</span></div><div class="line"><span style="color:#D4D4D4">  })</span></div><div class="line"></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#C586C0">if</span><span style="color:#D4D4D4"> (</span><span style="color:#9CDCFE">status</span><span style="color:#D4D4D4"> === </span><span style="color:#CE9178">&quot;loading&quot;</span><span style="color:#D4D4D4">) {</span></div><div class="line"><span style="color:#D4D4D4">    </span><span style="color:#C586C0">return</span><span style="color:#D4D4D4"> </span><span style="color:#CE9178">&quot;Loading or not authenticated...&quot;</span></div><div class="line"><span style="color:#D4D4D4">  }</span></div><div class="line"></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#C586C0">return</span><span style="color:#D4D4D4"> </span><span style="color:#CE9178">&quot;User is logged in&quot;</span></div><div class="line"><span style="color:#D4D4D4">}</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><pre class="shiki dark-plus with-title" style="background-color:#1E1E1E;color:#D4D4D4" title="pages/protected.jsx"><div class="code-title">pages/protected.jsx</div><div class="language-id">jsx</div><div class="code-container"><code><div class="line"><span style="color:#C586C0">import</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">useSession</span><span style="color:#D4D4D4"> } </span><span style="color:#C586C0">from</span><span style="color:#D4D4D4"> </span><span style="color:#CE9178">&quot;next-auth/react&quot;</span></div><div class="line"></div><div class="line"><span style="color:#C586C0">export</span><span style="color:#D4D4D4"> </span><span style="color:#C586C0">default</span><span style="color:#D4D4D4"> </span><span style="color:#569CD6">function</span><span style="color:#D4D4D4"> </span><span style="color:#DCDCAA">Admin</span><span style="color:#D4D4D4">() {</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#569CD6">const</span><span style="color:#D4D4D4"> { </span><span style="color:#4FC1FF">status</span><span style="color:#D4D4D4"> } = </span><span style="color:#DCDCAA">useSession</span><span style="color:#D4D4D4">({</span></div><div class="line"><span style="color:#D4D4D4">    </span><span style="color:#9CDCFE">required:</span><span style="color:#D4D4D4"> </span><span style="color:#569CD6">true</span><span style="color:#D4D4D4">,</span></div><div class="line"><span style="color:#D4D4D4">    </span><span style="color:#DCDCAA">onUnauthenticated</span><span style="color:#D4D4D4">() {</span></div><div class="line"><span style="color:#D4D4D4">      </span><span style="color:#6A9955">// 인증받지 않은 사용자는 이곳에서 처리합니다.</span></div><div class="line"><span style="color:#D4D4D4">    },</span></div><div class="line"><span style="color:#D4D4D4">  })</span></div><div class="line"></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#C586C0">if</span><span style="color:#D4D4D4"> (</span><span style="color:#9CDCFE">status</span><span style="color:#D4D4D4"> === </span><span style="color:#CE9178">&quot;loading&quot;</span><span style="color:#D4D4D4">) {</span></div><div class="line"><span style="color:#D4D4D4">    </span><span style="color:#C586C0">return</span><span style="color:#D4D4D4"> </span><span style="color:#CE9178">&quot;Loading or not authenticated...&quot;</span></div><div class="line"><span style="color:#D4D4D4">  }</span></div><div class="line"></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#C586C0">return</span><span style="color:#D4D4D4"> </span><span style="color:#CE9178">&quot;User is logged in&quot;</span></div><div class="line"><span style="color:#D4D4D4">}</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="커스텀-클라이언트-세션-처리">커스텀 클라이언트 세션 처리<a href="#커스텀-클라이언트-세션-처리" class="hash-link" aria-label="커스텀 클라이언트 세션 처리에 대한 직접 링크" title="커스텀 클라이언트 세션 처리에 대한 직접 링크">​</a></h3><p>넥스트의 <code>getServerSideProps</code>와 <code>getInitialProps</code> 작동 방식 때문에, 모든 보호된 페이지 로드는 세션이 유효한지 확인한 이후에 요청된 페이지를 생성하기 위해 서버 측 요청을 해야 합니다. 이 대체 솔루션을 사용하면 서버를 확인하고 페이지를 다시 생성할 필요 없이, 초기 확인에서 로드 상태를 표시할 수 있으며 이후의 모든 페이지 전환은 클라이언트 측에서 처리합니다.</p><pre class="shiki dark-plus with-title" style="background-color:#1E1E1E;color:#D4D4D4" title="pages/admin.jsx"><div class="code-title">pages/admin.jsx</div><div class="language-id">jsx</div><div class="code-container"><code><div class="line"><span style="color:#C586C0">export</span><span style="color:#D4D4D4"> </span><span style="color:#C586C0">default</span><span style="color:#D4D4D4"> </span><span style="color:#569CD6">function</span><span style="color:#D4D4D4"> </span><span style="color:#DCDCAA">AdminDashboard</span><span style="color:#D4D4D4">() {</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#569CD6">const</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">data</span><span style="color:#D4D4D4">: </span><span style="color:#4FC1FF">session</span><span style="color:#D4D4D4"> } = </span><span style="color:#DCDCAA">useSession</span><span style="color:#D4D4D4">()</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#6A9955">// 이 페이지 내의 리액트 트리에서는 세션이 항상 null이 아닙니다.</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#C586C0">return</span><span style="color:#D4D4D4"> </span><span style="color:#CE9178">&quot;Some super secret dashboard&quot;</span></div><div class="line"><span style="color:#D4D4D4">}</span></div><div class="line"></div><div class="line"><span style="color:#9CDCFE">AdminDashboard</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">auth</span><span style="color:#D4D4D4"> = </span><span style="color:#569CD6">true</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><pre class="shiki dark-plus with-title" style="background-color:#1E1E1E;color:#D4D4D4" title="pages/admin.jsx"><div class="code-title">pages/admin.jsx</div><div class="language-id">jsx</div><div class="code-container"><code><div class="line"><span style="color:#C586C0">export</span><span style="color:#D4D4D4"> </span><span style="color:#C586C0">default</span><span style="color:#D4D4D4"> </span><span style="color:#569CD6">function</span><span style="color:#D4D4D4"> </span><span style="color:#DCDCAA">AdminDashboard</span><span style="color:#D4D4D4">() {</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#569CD6">const</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">data</span><span style="color:#D4D4D4">: </span><span style="color:#4FC1FF">session</span><span style="color:#D4D4D4"> } = </span><span style="color:#DCDCAA">useSession</span><span style="color:#D4D4D4">()</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#6A9955">// 이 페이지 내의 리액트 트리에서는 세션이 항상 null이 아닙니다.</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#C586C0">return</span><span style="color:#D4D4D4"> </span><span style="color:#CE9178">&quot;Some super secret dashboard&quot;</span></div><div class="line"><span style="color:#D4D4D4">}</span></div><div class="line"></div><div class="line"><span style="color:#9CDCFE">AdminDashboard</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">auth</span><span style="color:#D4D4D4"> = </span><span style="color:#569CD6">true</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><pre class="shiki dark-plus with-title" style="background-color:#1E1E1E;color:#D4D4D4" title="pages/_app.jsx"><div class="code-title">pages/_app.jsx</div><div class="language-id">jsx</div><div class="code-container"><code><div class="line"><span style="color:#C586C0">export</span><span style="color:#D4D4D4"> </span><span style="color:#C586C0">default</span><span style="color:#D4D4D4"> </span><span style="color:#569CD6">function</span><span style="color:#D4D4D4"> </span><span style="color:#DCDCAA">App</span><span style="color:#D4D4D4">({</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#9CDCFE">Component</span><span style="color:#D4D4D4">,</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#9CDCFE">pageProps</span><span style="color:#D4D4D4">: { </span><span style="color:#9CDCFE">session</span><span style="color:#D4D4D4">, ...</span><span style="color:#9CDCFE">pageProps</span><span style="color:#D4D4D4"> },</span></div><div class="line"><span style="color:#D4D4D4">}) {</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#C586C0">return</span><span style="color:#D4D4D4"> (</span></div><div class="line"><span style="color:#D4D4D4">    </span><span style="color:#808080">&lt;</span><span style="color:#4EC9B0">SessionProvider</span><span style="color:#D4D4D4"> </span><span style="color:#9CDCFE">session</span><span style="color:#D4D4D4">=</span><span style="color:#569CD6">{</span><span style="color:#9CDCFE">session</span><span style="color:#569CD6">}</span><span style="color:#808080">&gt;</span></div><div class="line"><span style="color:#D4D4D4">      </span><span style="color:#569CD6">{</span><span style="color:#9CDCFE">Component</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">auth</span><span style="color:#D4D4D4"> ? (</span></div><div class="line"><span style="color:#D4D4D4">        </span><span style="color:#808080">&lt;</span><span style="color:#4EC9B0">Auth</span><span style="color:#808080">&gt;</span></div><div class="line"><span style="color:#D4D4D4">          </span><span style="color:#808080">&lt;</span><span style="color:#4EC9B0">Component</span><span style="color:#D4D4D4"> </span><span style="color:#569CD6">{</span><span style="color:#D4D4D4">...</span><span style="color:#9CDCFE">pageProps</span><span style="color:#569CD6">}</span><span style="color:#D4D4D4"> </span><span style="color:#808080">/&gt;</span></div><div class="line"><span style="color:#D4D4D4">        </span><span style="color:#808080">&lt;/</span><span style="color:#4EC9B0">Auth</span><span style="color:#808080">&gt;</span></div><div class="line"><span style="color:#D4D4D4">      ) : (</span></div><div class="line"><span style="color:#D4D4D4">        </span><span style="color:#808080">&lt;</span><span style="color:#4EC9B0">Component</span><span style="color:#D4D4D4"> </span><span style="color:#569CD6">{</span><span style="color:#D4D4D4">...</span><span style="color:#9CDCFE">pageProps</span><span style="color:#569CD6">}</span><span style="color:#D4D4D4"> </span><span style="color:#808080">/&gt;</span></div><div class="line"><span style="color:#D4D4D4">      )</span><span style="color:#569CD6">}</span></div><div class="line"><span style="color:#D4D4D4">    </span><span style="color:#808080">&lt;/</span><span style="color:#4EC9B0">SessionProvider</span><span style="color:#808080">&gt;</span></div><div class="line"><span style="color:#D4D4D4">  )</span></div><div class="line"><span style="color:#D4D4D4">}</span></div><div class="line"></div><div class="line"><span style="color:#569CD6">function</span><span style="color:#D4D4D4"> </span><span style="color:#DCDCAA">Auth</span><span style="color:#D4D4D4">({ </span><span style="color:#9CDCFE">children</span><span style="color:#D4D4D4"> }) {</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#6A9955">// { required: true }가 제공된다면, status는 &quot;loading&quot;이나 &quot;authenticated&quot;만 가능합니다.</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#569CD6">const</span><span style="color:#D4D4D4"> { </span><span style="color:#4FC1FF">status</span><span style="color:#D4D4D4"> } = </span><span style="color:#DCDCAA">useSession</span><span style="color:#D4D4D4">({ </span><span style="color:#9CDCFE">required:</span><span style="color:#D4D4D4"> </span><span style="color:#569CD6">true</span><span style="color:#D4D4D4"> })</span></div><div class="line"></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#C586C0">if</span><span style="color:#D4D4D4"> (</span><span style="color:#9CDCFE">status</span><span style="color:#D4D4D4"> === </span><span style="color:#CE9178">&quot;loading&quot;</span><span style="color:#D4D4D4">) {</span></div><div class="line"><span style="color:#D4D4D4">    </span><span style="color:#C586C0">return</span><span style="color:#D4D4D4"> </span><span style="color:#808080">&lt;</span><span style="color:#569CD6">div</span><span style="color:#808080">&gt;</span><span style="color:#D4D4D4">Loading...</span><span style="color:#808080">&lt;/</span><span style="color:#569CD6">div</span><span style="color:#808080">&gt;</span></div><div class="line"><span style="color:#D4D4D4">  }</span></div><div class="line"></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#C586C0">return</span><span style="color:#D4D4D4"> </span><span style="color:#9CDCFE">children</span></div><div class="line"><span style="color:#D4D4D4">}</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><pre class="shiki dark-plus with-title" style="background-color:#1E1E1E;color:#D4D4D4" title="pages/_app.jsx"><div class="code-title">pages/_app.jsx</div><div class="language-id">jsx</div><div class="code-container"><code><div class="line"><span style="color:#C586C0">export</span><span style="color:#D4D4D4"> </span><span style="color:#C586C0">default</span><span style="color:#D4D4D4"> </span><span style="color:#569CD6">function</span><span style="color:#D4D4D4"> </span><span style="color:#DCDCAA">App</span><span style="color:#D4D4D4">({</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#9CDCFE">Component</span><span style="color:#D4D4D4">,</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#9CDCFE">pageProps</span><span style="color:#D4D4D4">: { </span><span style="color:#9CDCFE">session</span><span style="color:#D4D4D4">, ...</span><span style="color:#9CDCFE">pageProps</span><span style="color:#D4D4D4"> },</span></div><div class="line"><span style="color:#D4D4D4">}) {</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#C586C0">return</span><span style="color:#D4D4D4"> (</span></div><div class="line"><span style="color:#D4D4D4">    </span><span style="color:#808080">&lt;</span><span style="color:#4EC9B0">SessionProvider</span><span style="color:#D4D4D4"> </span><span style="color:#9CDCFE">session</span><span style="color:#D4D4D4">=</span><span style="color:#569CD6">{</span><span style="color:#9CDCFE">session</span><span style="color:#569CD6">}</span><span style="color:#808080">&gt;</span></div><div class="line"><span style="color:#D4D4D4">      </span><span style="color:#569CD6">{</span><span style="color:#9CDCFE">Component</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">auth</span><span style="color:#D4D4D4"> ? (</span></div><div class="line"><span style="color:#D4D4D4">        </span><span style="color:#808080">&lt;</span><span style="color:#4EC9B0">Auth</span><span style="color:#808080">&gt;</span></div><div class="line"><span style="color:#D4D4D4">          </span><span style="color:#808080">&lt;</span><span style="color:#4EC9B0">Component</span><span style="color:#D4D4D4"> </span><span style="color:#569CD6">{</span><span style="color:#D4D4D4">...</span><span style="color:#9CDCFE">pageProps</span><span style="color:#569CD6">}</span><span style="color:#D4D4D4"> </span><span style="color:#808080">/&gt;</span></div><div class="line"><span style="color:#D4D4D4">        </span><span style="color:#808080">&lt;/</span><span style="color:#4EC9B0">Auth</span><span style="color:#808080">&gt;</span></div><div class="line"><span style="color:#D4D4D4">      ) : (</span></div><div class="line"><span style="color:#D4D4D4">        </span><span style="color:#808080">&lt;</span><span style="color:#4EC9B0">Component</span><span style="color:#D4D4D4"> </span><span style="color:#569CD6">{</span><span style="color:#D4D4D4">...</span><span style="color:#9CDCFE">pageProps</span><span style="color:#569CD6">}</span><span style="color:#D4D4D4"> </span><span style="color:#808080">/&gt;</span></div><div class="line"><span style="color:#D4D4D4">      )</span><span style="color:#569CD6">}</span></div><div class="line"><span style="color:#D4D4D4">    </span><span style="color:#808080">&lt;/</span><span style="color:#4EC9B0">SessionProvider</span><span style="color:#808080">&gt;</span></div><div class="line"><span style="color:#D4D4D4">  )</span></div><div class="line"><span style="color:#D4D4D4">}</span></div><div class="line"></div><div class="line"><span style="color:#569CD6">function</span><span style="color:#D4D4D4"> </span><span style="color:#DCDCAA">Auth</span><span style="color:#D4D4D4">({ </span><span style="color:#9CDCFE">children</span><span style="color:#D4D4D4"> }) {</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#6A9955">// { required: true }가 제공된다면, status는 &quot;loading&quot;이나 &quot;authenticated&quot;만 가능합니다.</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#569CD6">const</span><span style="color:#D4D4D4"> { </span><span style="color:#4FC1FF">status</span><span style="color:#D4D4D4"> } = </span><span style="color:#DCDCAA">useSession</span><span style="color:#D4D4D4">({ </span><span style="color:#9CDCFE">required:</span><span style="color:#D4D4D4"> </span><span style="color:#569CD6">true</span><span style="color:#D4D4D4"> })</span></div><div class="line"></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#C586C0">if</span><span style="color:#D4D4D4"> (</span><span style="color:#9CDCFE">status</span><span style="color:#D4D4D4"> === </span><span style="color:#CE9178">&quot;loading&quot;</span><span style="color:#D4D4D4">) {</span></div><div class="line"><span style="color:#D4D4D4">    </span><span style="color:#C586C0">return</span><span style="color:#D4D4D4"> </span><span style="color:#808080">&lt;</span><span style="color:#569CD6">div</span><span style="color:#808080">&gt;</span><span style="color:#D4D4D4">Loading...</span><span style="color:#808080">&lt;/</span><span style="color:#569CD6">div</span><span style="color:#808080">&gt;</span></div><div class="line"><span style="color:#D4D4D4">  }</span></div><div class="line"></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#C586C0">return</span><span style="color:#D4D4D4"> </span><span style="color:#9CDCFE">children</span></div><div class="line"><span style="color:#D4D4D4">}</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><p>페이지에서 역할 기반 인증을 위한 옵션 객체와 같은 것을 지원하도록 쉽게 확장하거나 수정할 수 있습니다.</p><p>예시:</p><pre class="shiki dark-plus with-title" style="background-color:#1E1E1E;color:#D4D4D4" title="pages/admin.jsx"><div class="code-title">pages/admin.jsx</div><div class="language-id">jsx</div><div class="code-container"><code><div class="line"><span style="color:#9CDCFE">AdminDashboard</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">auth</span><span style="color:#D4D4D4"> = {</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#9CDCFE">role:</span><span style="color:#D4D4D4"> </span><span style="color:#CE9178">&quot;admin&quot;</span><span style="color:#D4D4D4">,</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#9CDCFE">loading:</span><span style="color:#D4D4D4"> </span><span style="color:#808080">&lt;</span><span style="color:#4EC9B0">AdminLoadingSkeleton</span><span style="color:#D4D4D4"> </span><span style="color:#808080">/&gt;</span><span style="color:#D4D4D4">,</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#9CDCFE">unauthorized:</span><span style="color:#D4D4D4"> </span><span style="color:#CE9178">&quot;/login-with-different-user&quot;</span><span style="color:#D4D4D4">, </span><span style="color:#6A9955">// 이 url로 리디렉션됩니다.</span></div><div class="line"><span style="color:#D4D4D4">}</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><pre class="shiki dark-plus with-title" style="background-color:#1E1E1E;color:#D4D4D4" title="pages/admin.jsx"><div class="code-title">pages/admin.jsx</div><div class="language-id">jsx</div><div class="code-container"><code><div class="line"><span style="color:#9CDCFE">AdminDashboard</span><span style="color:#D4D4D4">.</span><span style="color:#9CDCFE">auth</span><span style="color:#D4D4D4"> = {</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#9CDCFE">role:</span><span style="color:#D4D4D4"> </span><span style="color:#CE9178">&quot;admin&quot;</span><span style="color:#D4D4D4">,</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#9CDCFE">loading:</span><span style="color:#D4D4D4"> </span><span style="color:#808080">&lt;</span><span style="color:#4EC9B0">AdminLoadingSkeleton</span><span style="color:#D4D4D4"> </span><span style="color:#808080">/&gt;</span><span style="color:#D4D4D4">,</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#9CDCFE">unauthorized:</span><span style="color:#D4D4D4"> </span><span style="color:#CE9178">&quot;/login-with-different-user&quot;</span><span style="color:#D4D4D4">, </span><span style="color:#6A9955">// 이 url로 리디렉션됩니다.</span></div><div class="line"><span style="color:#D4D4D4">}</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><p><code>_app</code>의 논리 덕분에 인증이 필요하지 않은 페이지는 <code>/api/auth/session</code> 엔드포인트에 불필요하게 연결되지 않습니다.</p><p>자세한 내용은 <a href="https://github.com/nextauthjs/next-auth/issues/1210" target="_blank" rel="noopener noreferrer">깃허브 이슈</a>에서 확인하세요.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="넥스트인증과-리액트-쿼리">넥스트인증과 리액트 쿼리<a href="#넥스트인증과-리액트-쿼리" class="hash-link" aria-label="넥스트인증과 리액트 쿼리에 대한 직접 링크" title="넥스트인증과 리액트 쿼리에 대한 직접 링크">​</a></h3><p><a href="https://tanstack.com/query/v4/docs/adapters/react-query" target="_blank" rel="noopener noreferrer">리액트 쿼리</a> 또는 <a href="https://swr.vercel.app/" target="_blank" rel="noopener noreferrer">SWR</a> 같은 데이터 가져오기 라이브러리를 사용하여 자신만의 세션 관리 솔루션을 만들 수 있습니다. <a href="https://github.com/nextauthjs/react-query" target="_blank" rel="noopener noreferrer"><code>@next-auth/react-query</code>의 원본 구현</a>을 사용하고 <a href="https://github.com/nextauthjs/next-auth/blob/main/packages/next-auth/src/react/index.tsx" target="_blank" rel="noopener noreferrer"><code>next-auth/react</code> 소스 코드</a>를 시작점으로 삼을 수 있습니다.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="getsession"><code>getSession()</code><a href="#getsession" class="hash-link" aria-label="getsession에 대한 직접 링크" title="getsession에 대한 직접 링크">​</a></h2><ul><li>클라이언트 측 - 예</li><li>서버 측 - 아니오 (<a href="https://next-auth.js.org/configuration/nextjs#unstable_getserversession" target="_blank" rel="noopener noreferrer"><code>unstable_getServerSession()</code></a> 참고)</li></ul><p>넥스트인증은 현재 활성 세션을 반환하기 위해 클라이언트 측에서만 사용해야 하는 <code>getSession()</code> 도우미를 제공합니다.</p><p>서버 측에서 <code>getSession()</code>을 여전히 사용할 수는 있지만 앞으로는 <code>unstable_getServerSession</code>을 사용하는 것을 권장합니다. 이는 서버 측에서의 불필요한 추가 <code>fetch</code> 호출을 피하기 위함입니다. 자세한 내용은 <a href="https://github.com/nextauthjs/next-auth/issues/1535" target="_blank" rel="noopener noreferrer">이슈</a>를 확인하세요.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>참고</div><div class="admonitionContent_S0QG"><p>API는 향후 변경될 수 있으므로 <code>unstable_getServerSession</code>에는 현재 <code>unstable_</code> 접두사가 붙어 있습니다. 현재 알려진 버그는 없으며 사용에 문제가 없습니다.</p></div></div><p>이 도우미는 리액트 컨텍스트 외부에서 세션을 읽으려는 경우에 유용합니다.</p><p><code>getSession()</code>은 호출되면 <code>/api/auth/session</code>에 요청을 보내고 <a href="https://github.com/nextauthjs/next-auth/blob/main/packages/next-auth/src/core/types.ts#L407-L425" target="_blank" rel="noopener noreferrer">세션 객체</a>가 있는 프라미스를 반환합니다. 세션이 없으면 <code>null</code>을 반환합니다.</p><pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4"><div class="language-id">jsx</div><div class="code-container"><code><div class="line"><span style="color:#569CD6">async</span><span style="color:#D4D4D4"> </span><span style="color:#569CD6">function</span><span style="color:#D4D4D4"> </span><span style="color:#DCDCAA">myFunction</span><span style="color:#D4D4D4">() {</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#569CD6">const</span><span style="color:#D4D4D4"> </span><span style="color:#4FC1FF">session</span><span style="color:#D4D4D4"> = </span><span style="color:#C586C0">await</span><span style="color:#D4D4D4"> </span><span style="color:#DCDCAA">getSession</span><span style="color:#D4D4D4">()</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#6A9955">/* ... */</span></div><div class="line"><span style="color:#D4D4D4">}</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4"><div class="language-id">jsx</div><div class="code-container"><code><div class="line"><span style="color:#569CD6">async</span><span style="color:#D4D4D4"> </span><span style="color:#569CD6">function</span><span style="color:#D4D4D4"> </span><span style="color:#DCDCAA">myFunction</span><span style="color:#D4D4D4">() {</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#569CD6">const</span><span style="color:#D4D4D4"> </span><span style="color:#4FC1FF">session</span><span style="color:#D4D4D4"> = </span><span style="color:#C586C0">await</span><span style="color:#D4D4D4"> </span><span style="color:#DCDCAA">getSession</span><span style="color:#D4D4D4">()</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#6A9955">/* ... */</span></div><div class="line"><span style="color:#D4D4D4">}</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><p><a href="https://next-auth.js.org/tutorials/securing-pages-and-api-routes" target="_blank" rel="noopener noreferrer">페이지와 API 경로를 보호하는 방법</a>을 읽고 <code>unstability_getServerSession()</code>을 사용해 서버 측 호출에서 세션을 가져오는 방법을 확인하세요.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="getcsrftoken"><code>getCsrfToken()</code><a href="#getcsrftoken" class="hash-link" aria-label="getcsrftoken에 대한 직접 링크" title="getcsrftoken에 대한 직접 링크">​</a></h2><ul><li>클라이언트 측 - 예</li><li>서버 측 - 예</li></ul><p><code>getCsrfToken()</code> 메서드는 POST 요청(예: 로그인 및 로그아웃)을 만드는 데 필요한 현재 사이트 간 요청 위조 토큰(CSRF 토큰)을 반환합니다.</p><p>내장 <code>signIn()</code>과 <code>signOut()</code> 메서드를 사용하지 않는 경우에만 이것을 사용해야 합니다.</p><p>클라이언트 측 예시:</p><pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4"><div class="language-id">jsx</div><div class="code-container"><code><div class="line"><span style="color:#569CD6">async</span><span style="color:#D4D4D4"> </span><span style="color:#569CD6">function</span><span style="color:#D4D4D4"> </span><span style="color:#DCDCAA">myFunction</span><span style="color:#D4D4D4">() {</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#569CD6">const</span><span style="color:#D4D4D4"> </span><span style="color:#4FC1FF">csrfToken</span><span style="color:#D4D4D4"> = </span><span style="color:#C586C0">await</span><span style="color:#D4D4D4"> </span><span style="color:#DCDCAA">getCsrfToken</span><span style="color:#D4D4D4">()</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#6A9955">/* ... */</span></div><div class="line"><span style="color:#D4D4D4">}</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4"><div class="language-id">jsx</div><div class="code-container"><code><div class="line"><span style="color:#569CD6">async</span><span style="color:#D4D4D4"> </span><span style="color:#569CD6">function</span><span style="color:#D4D4D4"> </span><span style="color:#DCDCAA">myFunction</span><span style="color:#D4D4D4">() {</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#569CD6">const</span><span style="color:#D4D4D4"> </span><span style="color:#4FC1FF">csrfToken</span><span style="color:#D4D4D4"> = </span><span style="color:#C586C0">await</span><span style="color:#D4D4D4"> </span><span style="color:#DCDCAA">getCsrfToken</span><span style="color:#D4D4D4">()</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#6A9955">/* ... */</span></div><div class="line"><span style="color:#D4D4D4">}</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><p>서버 측 예시:</p><pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4"><div class="language-id">jsx</div><div class="code-container"><code><div class="line"><span style="color:#C586C0">import</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">getCsrfToken</span><span style="color:#D4D4D4"> } </span><span style="color:#C586C0">from</span><span style="color:#D4D4D4"> </span><span style="color:#CE9178">&quot;next-auth/react&quot;</span></div><div class="line"></div><div class="line"><span style="color:#C586C0">export</span><span style="color:#D4D4D4"> </span><span style="color:#C586C0">default</span><span style="color:#D4D4D4"> </span><span style="color:#569CD6">async</span><span style="color:#D4D4D4"> (</span><span style="color:#9CDCFE">req</span><span style="color:#D4D4D4">, </span><span style="color:#9CDCFE">res</span><span style="color:#D4D4D4">) </span><span style="color:#569CD6">=&gt;</span><span style="color:#D4D4D4"> {</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#569CD6">const</span><span style="color:#D4D4D4"> </span><span style="color:#4FC1FF">csrfToken</span><span style="color:#D4D4D4"> = </span><span style="color:#C586C0">await</span><span style="color:#D4D4D4"> </span><span style="color:#DCDCAA">getCsrfToken</span><span style="color:#D4D4D4">({ </span><span style="color:#9CDCFE">req</span><span style="color:#D4D4D4"> })</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#6A9955">/* ... */</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#9CDCFE">res</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">end</span><span style="color:#D4D4D4">()</span></div><div class="line"><span style="color:#D4D4D4">}</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4"><div class="language-id">jsx</div><div class="code-container"><code><div class="line"><span style="color:#C586C0">import</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">getCsrfToken</span><span style="color:#D4D4D4"> } </span><span style="color:#C586C0">from</span><span style="color:#D4D4D4"> </span><span style="color:#CE9178">&quot;next-auth/react&quot;</span></div><div class="line"></div><div class="line"><span style="color:#C586C0">export</span><span style="color:#D4D4D4"> </span><span style="color:#C586C0">default</span><span style="color:#D4D4D4"> </span><span style="color:#569CD6">async</span><span style="color:#D4D4D4"> (</span><span style="color:#9CDCFE">req</span><span style="color:#D4D4D4">, </span><span style="color:#9CDCFE">res</span><span style="color:#D4D4D4">) </span><span style="color:#569CD6">=&gt;</span><span style="color:#D4D4D4"> {</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#569CD6">const</span><span style="color:#D4D4D4"> </span><span style="color:#4FC1FF">csrfToken</span><span style="color:#D4D4D4"> = </span><span style="color:#C586C0">await</span><span style="color:#D4D4D4"> </span><span style="color:#DCDCAA">getCsrfToken</span><span style="color:#D4D4D4">({ </span><span style="color:#9CDCFE">req</span><span style="color:#D4D4D4"> })</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#6A9955">/* ... */</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#9CDCFE">res</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">end</span><span style="color:#D4D4D4">()</span></div><div class="line"><span style="color:#D4D4D4">}</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="getproviders"><code>getProviders()</code><a href="#getproviders" class="hash-link" aria-label="getproviders에 대한 직접 링크" title="getproviders에 대한 직접 링크">​</a></h2><ul><li>클라이언트 측 - 예</li><li>서버 측 - 예</li></ul><p><code>getProviders()</code> 메서드는 현재 로그인에 설정된 제공자 목록을 반환합니다.</p><p><code>/api/auth/providers</code>를 호출하고 현재 설정된 인증 제공자 목록을 반환합니다.</p><p>동적 커스텀 로그인 페이지를 만들 때 유용합니다.</p><p>API 경로 예시:</p><pre class="shiki dark-plus with-title" style="background-color:#1E1E1E;color:#D4D4D4" title="pages/api/example.js"><div class="code-title">pages/api/example.js</div><div class="language-id">jsx</div><div class="code-container"><code><div class="line"><span style="color:#C586C0">import</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">getProviders</span><span style="color:#D4D4D4"> } </span><span style="color:#C586C0">from</span><span style="color:#D4D4D4"> </span><span style="color:#CE9178">&quot;next-auth/react&quot;</span></div><div class="line"></div><div class="line"><span style="color:#C586C0">export</span><span style="color:#D4D4D4"> </span><span style="color:#C586C0">default</span><span style="color:#D4D4D4"> </span><span style="color:#569CD6">async</span><span style="color:#D4D4D4"> (</span><span style="color:#9CDCFE">req</span><span style="color:#D4D4D4">, </span><span style="color:#9CDCFE">res</span><span style="color:#D4D4D4">) </span><span style="color:#569CD6">=&gt;</span><span style="color:#D4D4D4"> {</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#569CD6">const</span><span style="color:#D4D4D4"> </span><span style="color:#4FC1FF">providers</span><span style="color:#D4D4D4"> = </span><span style="color:#C586C0">await</span><span style="color:#D4D4D4"> </span><span style="color:#DCDCAA">getProviders</span><span style="color:#D4D4D4">()</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#9CDCFE">console</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">log</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">&quot;Providers&quot;</span><span style="color:#D4D4D4">, </span><span style="color:#9CDCFE">providers</span><span style="color:#D4D4D4">)</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#9CDCFE">res</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">end</span><span style="color:#D4D4D4">()</span></div><div class="line"><span style="color:#D4D4D4">}</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><pre class="shiki dark-plus with-title" style="background-color:#1E1E1E;color:#D4D4D4" title="pages/api/example.js"><div class="code-title">pages/api/example.js</div><div class="language-id">jsx</div><div class="code-container"><code><div class="line"><span style="color:#C586C0">import</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">getProviders</span><span style="color:#D4D4D4"> } </span><span style="color:#C586C0">from</span><span style="color:#D4D4D4"> </span><span style="color:#CE9178">&quot;next-auth/react&quot;</span></div><div class="line"></div><div class="line"><span style="color:#C586C0">export</span><span style="color:#D4D4D4"> </span><span style="color:#C586C0">default</span><span style="color:#D4D4D4"> </span><span style="color:#569CD6">async</span><span style="color:#D4D4D4"> (</span><span style="color:#9CDCFE">req</span><span style="color:#D4D4D4">, </span><span style="color:#9CDCFE">res</span><span style="color:#D4D4D4">) </span><span style="color:#569CD6">=&gt;</span><span style="color:#D4D4D4"> {</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#569CD6">const</span><span style="color:#D4D4D4"> </span><span style="color:#4FC1FF">providers</span><span style="color:#D4D4D4"> = </span><span style="color:#C586C0">await</span><span style="color:#D4D4D4"> </span><span style="color:#DCDCAA">getProviders</span><span style="color:#D4D4D4">()</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#9CDCFE">console</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">log</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">&quot;Providers&quot;</span><span style="color:#D4D4D4">, </span><span style="color:#9CDCFE">providers</span><span style="color:#D4D4D4">)</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#9CDCFE">res</span><span style="color:#D4D4D4">.</span><span style="color:#DCDCAA">end</span><span style="color:#D4D4D4">()</span></div><div class="line"><span style="color:#D4D4D4">}</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>참고</div><div class="admonitionContent_S0QG"><p><code>getCsrfToken()</code>와 달리, 서버 측에서 <code>getProviders()</code>를 호출할 때 클라이언트 측에서 호출하는 것처럼 아무것도 건네줄 필요가 없습니다.</p></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="signin"><code>signIn()</code><a href="#signin" class="hash-link" aria-label="signin에 대한 직접 링크" title="signin에 대한 직접 링크">​</a></h2><ul><li>클라이언트 측 - 예</li><li>서버 측 - 아니오</li></ul><p><code>signIn()</code> 메서드는 사용자가 로그인 과정을 완료하고 시작한 페이지로 돌아갈 것을 보장합니다. 또한 이메일로 로그인할 때 이 메서드가 자동으로 CSRF 토큰을 처리합니다.</p><p><code>signIn()</code> 메서드는 다음과 같이 클라이언트에서 다양한 방식으로 호출할 수 있습니다.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="클릭-시-로그인-페이지로-리디렉션하기">클릭 시 로그인 페이지로 리디렉션하기<a href="#클릭-시-로그인-페이지로-리디렉션하기" class="hash-link" aria-label="클릭 시 로그인 페이지로 리디렉션하기에 대한 직접 링크" title="클릭 시 로그인 페이지로 리디렉션하기에 대한 직접 링크">​</a></h3><pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4"><div class="language-id">jsx</div><div class="code-container"><code><div class="line"><span style="color:#C586C0">import</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">signIn</span><span style="color:#D4D4D4"> } </span><span style="color:#C586C0">from</span><span style="color:#D4D4D4"> </span><span style="color:#CE9178">&quot;next-auth/react&quot;</span></div><div class="line"></div><div class="line"><span style="color:#C586C0">export</span><span style="color:#D4D4D4"> </span><span style="color:#C586C0">default</span><span style="color:#D4D4D4"> () </span><span style="color:#569CD6">=&gt;</span><span style="color:#D4D4D4"> </span><span style="color:#808080">&lt;</span><span style="color:#569CD6">button</span><span style="color:#D4D4D4"> </span><span style="color:#9CDCFE">onClick</span><span style="color:#D4D4D4">=</span><span style="color:#569CD6">{</span><span style="color:#D4D4D4">() </span><span style="color:#569CD6">=&gt;</span><span style="color:#D4D4D4"> </span><span style="color:#DCDCAA">signIn</span><span style="color:#D4D4D4">()</span><span style="color:#569CD6">}</span><span style="color:#808080">&gt;</span><span style="color:#D4D4D4">Sign in</span><span style="color:#808080">&lt;/</span><span style="color:#569CD6">button</span><span style="color:#808080">&gt;</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4"><div class="language-id">jsx</div><div class="code-container"><code><div class="line"><span style="color:#C586C0">import</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">signIn</span><span style="color:#D4D4D4"> } </span><span style="color:#C586C0">from</span><span style="color:#D4D4D4"> </span><span style="color:#CE9178">&quot;next-auth/react&quot;</span></div><div class="line"></div><div class="line"><span style="color:#C586C0">export</span><span style="color:#D4D4D4"> </span><span style="color:#C586C0">default</span><span style="color:#D4D4D4"> () </span><span style="color:#569CD6">=&gt;</span><span style="color:#D4D4D4"> </span><span style="color:#808080">&lt;</span><span style="color:#569CD6">button</span><span style="color:#D4D4D4"> </span><span style="color:#9CDCFE">onClick</span><span style="color:#D4D4D4">=</span><span style="color:#569CD6">{</span><span style="color:#D4D4D4">() </span><span style="color:#569CD6">=&gt;</span><span style="color:#D4D4D4"> </span><span style="color:#DCDCAA">signIn</span><span style="color:#D4D4D4">()</span><span style="color:#569CD6">}</span><span style="color:#808080">&gt;</span><span style="color:#D4D4D4">Sign in</span><span style="color:#808080">&lt;/</span><span style="color:#569CD6">button</span><span style="color:#808080">&gt;</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="클릭-시-oauth-로그인-흐름-시작하기">클릭 시 OAuth 로그인 흐름 시작하기<a href="#클릭-시-oauth-로그인-흐름-시작하기" class="hash-link" aria-label="클릭 시 OAuth 로그인 흐름 시작하기에 대한 직접 링크" title="클릭 시 OAuth 로그인 흐름 시작하기에 대한 직접 링크">​</a></h3><p>인수 없이 <code>signIn()</code> 메서드를 호출하면 넥스트인증 로그인 페이지로 리디렉션됩니다. 이를 건너뛰고 제공자 페이지로 리디렉션하려면 제공자의 <code>id</code>로 <code>signIn()</code>을 호출합니다.</p><p>다음 예시는 구글 로그인입니다.</p><pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4"><div class="language-id">jsx</div><div class="code-container"><code><div class="line"><span style="color:#C586C0">import</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">signIn</span><span style="color:#D4D4D4"> } </span><span style="color:#C586C0">from</span><span style="color:#D4D4D4"> </span><span style="color:#CE9178">&quot;next-auth/react&quot;</span></div><div class="line"></div><div class="line"><span style="color:#C586C0">export</span><span style="color:#D4D4D4"> </span><span style="color:#C586C0">default</span><span style="color:#D4D4D4"> () </span><span style="color:#569CD6">=&gt;</span><span style="color:#D4D4D4"> (</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#808080">&lt;</span><span style="color:#569CD6">button</span><span style="color:#D4D4D4"> </span><span style="color:#9CDCFE">onClick</span><span style="color:#D4D4D4">=</span><span style="color:#569CD6">{</span><span style="color:#D4D4D4">() </span><span style="color:#569CD6">=&gt;</span><span style="color:#D4D4D4"> </span><span style="color:#DCDCAA">signIn</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">&quot;google&quot;</span><span style="color:#D4D4D4">)</span><span style="color:#569CD6">}</span><span style="color:#808080">&gt;</span><span style="color:#D4D4D4">Sign in with Google</span><span style="color:#808080">&lt;/</span><span style="color:#569CD6">button</span><span style="color:#808080">&gt;</span></div><div class="line"><span style="color:#D4D4D4">)</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4"><div class="language-id">jsx</div><div class="code-container"><code><div class="line"><span style="color:#C586C0">import</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">signIn</span><span style="color:#D4D4D4"> } </span><span style="color:#C586C0">from</span><span style="color:#D4D4D4"> </span><span style="color:#CE9178">&quot;next-auth/react&quot;</span></div><div class="line"></div><div class="line"><span style="color:#C586C0">export</span><span style="color:#D4D4D4"> </span><span style="color:#C586C0">default</span><span style="color:#D4D4D4"> () </span><span style="color:#569CD6">=&gt;</span><span style="color:#D4D4D4"> (</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#808080">&lt;</span><span style="color:#569CD6">button</span><span style="color:#D4D4D4"> </span><span style="color:#9CDCFE">onClick</span><span style="color:#D4D4D4">=</span><span style="color:#569CD6">{</span><span style="color:#D4D4D4">() </span><span style="color:#569CD6">=&gt;</span><span style="color:#D4D4D4"> </span><span style="color:#DCDCAA">signIn</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">&quot;google&quot;</span><span style="color:#D4D4D4">)</span><span style="color:#569CD6">}</span><span style="color:#808080">&gt;</span><span style="color:#D4D4D4">Sign in with Google</span><span style="color:#808080">&lt;/</span><span style="color:#569CD6">button</span><span style="color:#808080">&gt;</span></div><div class="line"><span style="color:#D4D4D4">)</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="클릭-시-이메일-로그인-흐름-시작하기">클릭 시 이메일 로그인 흐름 시작하기<a href="#클릭-시-이메일-로그인-흐름-시작하기" class="hash-link" aria-label="클릭 시 이메일 로그인 흐름 시작하기에 대한 직접 링크" title="클릭 시 이메일 로그인 흐름 시작하기에 대한 직접 링크">​</a></h3><p>이메일 흐름과 함께 사용할 경우 대상 <code>email</code>을 옵션으로 전달합니다.</p><pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4"><div class="language-id">jsx</div><div class="code-container"><code><div class="line"><span style="color:#C586C0">import</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">signIn</span><span style="color:#D4D4D4"> } </span><span style="color:#C586C0">from</span><span style="color:#D4D4D4"> </span><span style="color:#CE9178">&quot;next-auth/react&quot;</span></div><div class="line"></div><div class="line"><span style="color:#C586C0">export</span><span style="color:#D4D4D4"> </span><span style="color:#C586C0">default</span><span style="color:#D4D4D4"> ({ </span><span style="color:#9CDCFE">email</span><span style="color:#D4D4D4"> }) </span><span style="color:#569CD6">=&gt;</span><span style="color:#D4D4D4"> (</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#808080">&lt;</span><span style="color:#569CD6">button</span><span style="color:#D4D4D4"> </span><span style="color:#9CDCFE">onClick</span><span style="color:#D4D4D4">=</span><span style="color:#569CD6">{</span><span style="color:#D4D4D4">() </span><span style="color:#569CD6">=&gt;</span><span style="color:#D4D4D4"> </span><span style="color:#DCDCAA">signIn</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">&quot;email&quot;</span><span style="color:#D4D4D4">, { </span><span style="color:#9CDCFE">email</span><span style="color:#D4D4D4"> })</span><span style="color:#569CD6">}</span><span style="color:#808080">&gt;</span><span style="color:#D4D4D4">Sign in with Email</span><span style="color:#808080">&lt;/</span><span style="color:#569CD6">button</span><span style="color:#808080">&gt;</span></div><div class="line"><span style="color:#D4D4D4">)</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4"><div class="language-id">jsx</div><div class="code-container"><code><div class="line"><span style="color:#C586C0">import</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">signIn</span><span style="color:#D4D4D4"> } </span><span style="color:#C586C0">from</span><span style="color:#D4D4D4"> </span><span style="color:#CE9178">&quot;next-auth/react&quot;</span></div><div class="line"></div><div class="line"><span style="color:#C586C0">export</span><span style="color:#D4D4D4"> </span><span style="color:#C586C0">default</span><span style="color:#D4D4D4"> ({ </span><span style="color:#9CDCFE">email</span><span style="color:#D4D4D4"> }) </span><span style="color:#569CD6">=&gt;</span><span style="color:#D4D4D4"> (</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#808080">&lt;</span><span style="color:#569CD6">button</span><span style="color:#D4D4D4"> </span><span style="color:#9CDCFE">onClick</span><span style="color:#D4D4D4">=</span><span style="color:#569CD6">{</span><span style="color:#D4D4D4">() </span><span style="color:#569CD6">=&gt;</span><span style="color:#D4D4D4"> </span><span style="color:#DCDCAA">signIn</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">&quot;email&quot;</span><span style="color:#D4D4D4">, { </span><span style="color:#9CDCFE">email</span><span style="color:#D4D4D4"> })</span><span style="color:#569CD6">}</span><span style="color:#808080">&gt;</span><span style="color:#D4D4D4">Sign in with Email</span><span style="color:#808080">&lt;/</span><span style="color:#569CD6">button</span><span style="color:#808080">&gt;</span></div><div class="line"><span style="color:#D4D4D4">)</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="callbackurl-지정하기"><code>callbackUrl</code> 지정하기<a href="#callbackurl-지정하기" class="hash-link" aria-label="callbackurl-지정하기에 대한 직접 링크" title="callbackurl-지정하기에 대한 직접 링크">​</a></h3><p><code>callbackUrl</code>은 로그인 후 사용자가 리디렉션될 URL을 지정합니다. 기본값은 사용자의 현재 URL입니다.</p><p><code>signIn()</code>의 두 번째 인수로 다른 <code>callbackUrl</code>을 지정할 수 있습니다. 이것은 모든 제공자에 적용됩니다.</p><p>예시:</p><pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4"><div class="language-id">jsx</div><div class="code-container"><code><div class="line"><span style="color:#DCDCAA">signIn</span><span style="color:#D4D4D4">(</span><span style="color:#569CD6">undefined</span><span style="color:#D4D4D4">, { </span><span style="color:#9CDCFE">callbackUrl:</span><span style="color:#D4D4D4"> </span><span style="color:#CE9178">&#x27;/foo&#x27;</span><span style="color:#D4D4D4"> })</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4"><div class="language-id">jsx</div><div class="code-container"><code><div class="line"><span style="color:#DCDCAA">signIn</span><span style="color:#D4D4D4">(</span><span style="color:#569CD6">undefined</span><span style="color:#D4D4D4">, { </span><span style="color:#9CDCFE">callbackUrl:</span><span style="color:#D4D4D4"> </span><span style="color:#CE9178">&#x27;/foo&#x27;</span><span style="color:#D4D4D4"> })</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4"><div class="language-id">jsx</div><div class="code-container"><code><div class="line"><span style="color:#DCDCAA">signIn</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">&#x27;google&#x27;</span><span style="color:#D4D4D4">, { </span><span style="color:#9CDCFE">callbackUrl:</span><span style="color:#D4D4D4"> </span><span style="color:#CE9178">&#x27;http://localhost:3000/bar&#x27;</span><span style="color:#D4D4D4"> })</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4"><div class="language-id">jsx</div><div class="code-container"><code><div class="line"><span style="color:#DCDCAA">signIn</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">&#x27;google&#x27;</span><span style="color:#D4D4D4">, { </span><span style="color:#9CDCFE">callbackUrl:</span><span style="color:#D4D4D4"> </span><span style="color:#CE9178">&#x27;http://localhost:3000/bar&#x27;</span><span style="color:#D4D4D4"> })</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4"><div class="language-id">jsx</div><div class="code-container"><code><div class="line"><span style="color:#DCDCAA">signIn</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">&#x27;email&#x27;</span><span style="color:#D4D4D4">, { </span><span style="color:#9CDCFE">email</span><span style="color:#D4D4D4">, </span><span style="color:#9CDCFE">callbackUrl:</span><span style="color:#D4D4D4"> </span><span style="color:#CE9178">&#x27;http://localhost:3000/foo&#x27;</span><span style="color:#D4D4D4"> })</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4"><div class="language-id">jsx</div><div class="code-container"><code><div class="line"><span style="color:#DCDCAA">signIn</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">&#x27;email&#x27;</span><span style="color:#D4D4D4">, { </span><span style="color:#9CDCFE">email</span><span style="color:#D4D4D4">, </span><span style="color:#9CDCFE">callbackUrl:</span><span style="color:#D4D4D4"> </span><span style="color:#CE9178">&#x27;http://localhost:3000/foo&#x27;</span><span style="color:#D4D4D4"> })</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><p>URL은 <a href="https://next-auth.js.org/configuration/callbacks#redirect-callback" target="_blank" rel="noopener noreferrer">리디렉션 콜백 처리기</a>에서 유효한 것이어야 합니다. 기본적으로 URL은 동일한 호스트 이름의 절대 URL이거나 <code>/</code>로 시작하는 상대 URL이어야 합니다. 일치하지 않으면 홈페이지로 리디렉션됩니다. 다른 URL을 허용하도록 고유한 <a href="https://next-auth.js.org/configuration/callbacks#redirect-callback" target="_blank" rel="noopener noreferrer">리디렉션 콜백</a>을 정의하는 것도 가능합니다.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="redirect-false-옵션-사용하기"><code>redirect: false</code> 옵션 사용하기<a href="#redirect-false-옵션-사용하기" class="hash-link" aria-label="redirect-false-옵션-사용하기에 대한 직접 링크" title="redirect-false-옵션-사용하기에 대한 직접 링크">​</a></h3><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>참고</div><div class="admonitionContent_S0QG"><p>리디렉션 옵션은 <code>credentials</code>과 <code>email</code> 제공자에서만 사용 가능합니다.</p></div></div><p>경우에 따라 동일한 페이지에서 로그인 응답을 처리하고 기본 리디렉션을 비활성화할 수 있습니다. 예를 들어 오류가 발생하는 경우(예: 사용자가 잘못된 자격 증명을 제공) 동일한 페이지에서 오류를 처리할 수 있습니다. 이를 위해 두 번째 매개변수 객체에 <code>redirect: false</code>를 전달합니다.</p><p>예시:</p><pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4"><div class="language-id">jsx</div><div class="code-container"><code><div class="line"><span style="color:#DCDCAA">signIn</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">&#x27;credentials&#x27;</span><span style="color:#D4D4D4">, { </span><span style="color:#9CDCFE">redirect:</span><span style="color:#D4D4D4"> </span><span style="color:#569CD6">false</span><span style="color:#D4D4D4">, </span><span style="color:#9CDCFE">password:</span><span style="color:#D4D4D4"> </span><span style="color:#CE9178">&#x27;password&#x27;</span><span style="color:#D4D4D4"> })</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4"><div class="language-id">jsx</div><div class="code-container"><code><div class="line"><span style="color:#DCDCAA">signIn</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">&#x27;credentials&#x27;</span><span style="color:#D4D4D4">, { </span><span style="color:#9CDCFE">redirect:</span><span style="color:#D4D4D4"> </span><span style="color:#569CD6">false</span><span style="color:#D4D4D4">, </span><span style="color:#9CDCFE">password:</span><span style="color:#D4D4D4"> </span><span style="color:#CE9178">&#x27;password&#x27;</span><span style="color:#D4D4D4"> })</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4"><div class="language-id">jsx</div><div class="code-container"><code><div class="line"><span style="color:#DCDCAA">signIn</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">&#x27;email&#x27;</span><span style="color:#D4D4D4">, { </span><span style="color:#9CDCFE">redirect:</span><span style="color:#D4D4D4"> </span><span style="color:#569CD6">false</span><span style="color:#D4D4D4">, </span><span style="color:#9CDCFE">email:</span><span style="color:#D4D4D4"> </span><span style="color:#CE9178">&#x27;bill@fillmurray.com&#x27;</span><span style="color:#D4D4D4"> })</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4"><div class="language-id">jsx</div><div class="code-container"><code><div class="line"><span style="color:#DCDCAA">signIn</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">&#x27;email&#x27;</span><span style="color:#D4D4D4">, { </span><span style="color:#9CDCFE">redirect:</span><span style="color:#D4D4D4"> </span><span style="color:#569CD6">false</span><span style="color:#D4D4D4">, </span><span style="color:#9CDCFE">email:</span><span style="color:#D4D4D4"> </span><span style="color:#CE9178">&#x27;bill@fillmurray.com&#x27;</span><span style="color:#D4D4D4"> })</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><p>그러면 <code>signIn</code>에서 다음과 같이 이행되는 프라미스를 반환합니다.</p><pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4"><div class="language-id">json</div><div class="code-container"><code><div class="line"><span style="color:#D4D4D4">{</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#6A9955">/**</span></div><div class="line"><span style="color:#6A9955">   * 오류의 유형에 따라 다른 오류 코드가 될 것입니다.</span></div><div class="line"><span style="color:#6A9955">   */</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#F44747">error</span><span style="color:#D4D4D4">: </span><span style="color:#F44747">string</span><span style="color:#D4D4D4"> </span><span style="color:#F44747">|</span><span style="color:#D4D4D4"> </span><span style="color:#F44747">undefined</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#6A9955">/**</span></div><div class="line"><span style="color:#6A9955">   * HTTP 상태 코드로, 발생한 오류의 종류를 나타냅니다.</span></div><div class="line"><span style="color:#6A9955">   */</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#F44747">status:</span><span style="color:#D4D4D4"> </span><span style="color:#F44747">number</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#6A9955">/**</span></div><div class="line"><span style="color:#6A9955">   * 로그인이 성공했다면 true입니다.</span></div><div class="line"><span style="color:#6A9955">   */</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#F44747">ok:</span><span style="color:#D4D4D4"> </span><span style="color:#F44747">boolean</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#6A9955">/**</span></div><div class="line"><span style="color:#6A9955">   * 오류가 있었다면 null입니다.</span></div><div class="line"><span style="color:#6A9955">   * 그러지 않으면 사용자가 리디렉션될 url입니다.</span></div><div class="line"><span style="color:#6A9955">   */</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#F44747">url:</span><span style="color:#D4D4D4"> </span><span style="color:#F44747">string</span><span style="color:#D4D4D4"> </span><span style="color:#F44747">|</span><span style="color:#D4D4D4"> </span><span style="color:#569CD6">null</span></div><div class="line"><span style="color:#D4D4D4">}</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4"><div class="language-id">json</div><div class="code-container"><code><div class="line"><span style="color:#D4D4D4">{</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#6A9955">/**</span></div><div class="line"><span style="color:#6A9955">   * 오류의 유형에 따라 다른 오류 코드가 될 것입니다.</span></div><div class="line"><span style="color:#6A9955">   */</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#F44747">error</span><span style="color:#D4D4D4">: </span><span style="color:#F44747">string</span><span style="color:#D4D4D4"> </span><span style="color:#F44747">|</span><span style="color:#D4D4D4"> </span><span style="color:#F44747">undefined</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#6A9955">/**</span></div><div class="line"><span style="color:#6A9955">   * HTTP 상태 코드로, 발생한 오류의 종류를 나타냅니다.</span></div><div class="line"><span style="color:#6A9955">   */</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#F44747">status:</span><span style="color:#D4D4D4"> </span><span style="color:#F44747">number</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#6A9955">/**</span></div><div class="line"><span style="color:#6A9955">   * 로그인이 성공했다면 true입니다.</span></div><div class="line"><span style="color:#6A9955">   */</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#F44747">ok:</span><span style="color:#D4D4D4"> </span><span style="color:#F44747">boolean</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#6A9955">/**</span></div><div class="line"><span style="color:#6A9955">   * 오류가 있었다면 null입니다.</span></div><div class="line"><span style="color:#6A9955">   * 그러지 않으면 사용자가 리디렉션될 url입니다.</span></div><div class="line"><span style="color:#6A9955">   */</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#F44747">url:</span><span style="color:#D4D4D4"> </span><span style="color:#F44747">string</span><span style="color:#D4D4D4"> </span><span style="color:#F44747">|</span><span style="color:#D4D4D4"> </span><span style="color:#569CD6">null</span></div><div class="line"><span style="color:#D4D4D4">}</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="추가-매개변수">추가 매개변수<a href="#추가-매개변수" class="hash-link" aria-label="추가 매개변수에 대한 직접 링크" title="추가 매개변수에 대한 직접 링크">​</a></h3><p><code>signIn()</code>의 세 번째 인수로 <code>/authorize</code> 엔드포인트에 추가 매개변수를 전달할 수 있습니다.</p><p>몇 가지 아이디어는 <a href="https://openid.net/specs/openid-connect-core-1_0.html#AuthRequest" target="_blank" rel="noopener noreferrer">인증 요청 OIDC 명세서</a>를 참고합니다. (이것만이 가능한 것은 아니며 모든 매개변수가 전달됨)</p><p>예시:</p><pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4"><div class="language-id">jsx</div><div class="code-container"><code><div class="line"><span style="color:#6A9955">// 항상 사용자에게 재인증을 요청</span></div><div class="line"><span style="color:#DCDCAA">signIn</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">&quot;identity-server4&quot;</span><span style="color:#D4D4D4">, </span><span style="color:#569CD6">null</span><span style="color:#D4D4D4">, { </span><span style="color:#9CDCFE">prompt:</span><span style="color:#D4D4D4"> </span><span style="color:#CE9178">&quot;login&quot;</span><span style="color:#D4D4D4"> })</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4"><div class="language-id">jsx</div><div class="code-container"><code><div class="line"><span style="color:#6A9955">// 항상 사용자에게 재인증을 요청</span></div><div class="line"><span style="color:#DCDCAA">signIn</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">&quot;identity-server4&quot;</span><span style="color:#D4D4D4">, </span><span style="color:#569CD6">null</span><span style="color:#D4D4D4">, { </span><span style="color:#9CDCFE">prompt:</span><span style="color:#D4D4D4"> </span><span style="color:#CE9178">&quot;login&quot;</span><span style="color:#D4D4D4"> })</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4"><div class="language-id">jsx</div><div class="code-container"><code><div class="line"><span style="color:#6A9955">// 제공자에게 이메일 주소를 알려줌</span></div><div class="line"><span style="color:#DCDCAA">signIn</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">&quot;auth0&quot;</span><span style="color:#D4D4D4">, </span><span style="color:#569CD6">null</span><span style="color:#D4D4D4">, { </span><span style="color:#9CDCFE">login_hint:</span><span style="color:#D4D4D4"> </span><span style="color:#CE9178">&quot;info@example.com&quot;</span><span style="color:#D4D4D4"> })</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4"><div class="language-id">jsx</div><div class="code-container"><code><div class="line"><span style="color:#6A9955">// 제공자에게 이메일 주소를 알려줌</span></div><div class="line"><span style="color:#DCDCAA">signIn</span><span style="color:#D4D4D4">(</span><span style="color:#CE9178">&quot;auth0&quot;</span><span style="color:#D4D4D4">, </span><span style="color:#569CD6">null</span><span style="color:#D4D4D4">, { </span><span style="color:#9CDCFE">login_hint:</span><span style="color:#D4D4D4"> </span><span style="color:#CE9178">&quot;info@example.com&quot;</span><span style="color:#D4D4D4"> })</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>참고</div><div class="admonitionContent_S0QG"><p><a href="https://next-auth.js.org/configuration/providers/oauth#options" target="_blank" rel="noopener noreferrer"><code>provider.authorizationParams</code></a>로 이 매개변수를 설정하는 것도 가능합니다.</p></div></div><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>참고</div><div class="admonitionContent_S0QG"><p><code>redirect_uri</code>, <code>state</code> 매개변수는 항상 서버 측에서 재정의됩니다.</p></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="signout"><code>signOut()</code><a href="#signout" class="hash-link" aria-label="signout에 대한 직접 링크" title="signout에 대한 직접 링크">​</a></h2><ul><li>클라이언트 측 - 예</li><li>서버 측 - 아니오</li></ul><p><code>signOut()</code> 메서드를 사용하면 사용자가 로그아웃 흐름을 완료하고 시작한 페이지로 돌아갈 것을 보장합니다. 또한 이 메서드는 CSRF 토큰을 자동으로 처리합니다.</p><p>로그아웃이 완료되면 브라우저에서 페이지를 다시 로드합니다.</p><pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4"><div class="language-id">jsx</div><div class="code-container"><code><div class="line"><span style="color:#C586C0">import</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">signOut</span><span style="color:#D4D4D4"> } </span><span style="color:#C586C0">from</span><span style="color:#D4D4D4"> </span><span style="color:#CE9178">&quot;next-auth/react&quot;</span></div><div class="line"></div><div class="line"><span style="color:#C586C0">export</span><span style="color:#D4D4D4"> </span><span style="color:#C586C0">default</span><span style="color:#D4D4D4"> () </span><span style="color:#569CD6">=&gt;</span><span style="color:#D4D4D4"> </span><span style="color:#808080">&lt;</span><span style="color:#569CD6">button</span><span style="color:#D4D4D4"> </span><span style="color:#9CDCFE">onClick</span><span style="color:#D4D4D4">=</span><span style="color:#569CD6">{</span><span style="color:#D4D4D4">() </span><span style="color:#569CD6">=&gt;</span><span style="color:#D4D4D4"> </span><span style="color:#DCDCAA">signOut</span><span style="color:#D4D4D4">()</span><span style="color:#569CD6">}</span><span style="color:#808080">&gt;</span><span style="color:#D4D4D4">Sign out</span><span style="color:#808080">&lt;/</span><span style="color:#569CD6">button</span><span style="color:#808080">&gt;</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4"><div class="language-id">jsx</div><div class="code-container"><code><div class="line"><span style="color:#C586C0">import</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">signOut</span><span style="color:#D4D4D4"> } </span><span style="color:#C586C0">from</span><span style="color:#D4D4D4"> </span><span style="color:#CE9178">&quot;next-auth/react&quot;</span></div><div class="line"></div><div class="line"><span style="color:#C586C0">export</span><span style="color:#D4D4D4"> </span><span style="color:#C586C0">default</span><span style="color:#D4D4D4"> () </span><span style="color:#569CD6">=&gt;</span><span style="color:#D4D4D4"> </span><span style="color:#808080">&lt;</span><span style="color:#569CD6">button</span><span style="color:#D4D4D4"> </span><span style="color:#9CDCFE">onClick</span><span style="color:#D4D4D4">=</span><span style="color:#569CD6">{</span><span style="color:#D4D4D4">() </span><span style="color:#569CD6">=&gt;</span><span style="color:#D4D4D4"> </span><span style="color:#DCDCAA">signOut</span><span style="color:#D4D4D4">()</span><span style="color:#569CD6">}</span><span style="color:#808080">&gt;</span><span style="color:#D4D4D4">Sign out</span><span style="color:#808080">&lt;/</span><span style="color:#569CD6">button</span><span style="color:#808080">&gt;</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="callbackurl-지정하기-1"><code>callbackUrl</code> 지정하기<a href="#callbackurl-지정하기-1" class="hash-link" aria-label="callbackurl-지정하기-1에 대한 직접 링크" title="callbackurl-지정하기-1에 대한 직접 링크">​</a></h3><p><code>signIn()</code> 함수와 동일하게 <code>callbackUrl</code> 매개변수를 옵션으로 전달할 수 있습니다.</p><p>예시:</p><pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4"><div class="language-id">jsx</div><div class="code-container"><code><div class="line"><span style="color:#DCDCAA">signOut</span><span style="color:#D4D4D4">({ </span><span style="color:#9CDCFE">callbackUrl:</span><span style="color:#D4D4D4"> </span><span style="color:#CE9178">&#x27;http://localhost:3000/foo&#x27;</span><span style="color:#D4D4D4"> })</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4"><div class="language-id">jsx</div><div class="code-container"><code><div class="line"><span style="color:#DCDCAA">signOut</span><span style="color:#D4D4D4">({ </span><span style="color:#9CDCFE">callbackUrl:</span><span style="color:#D4D4D4"> </span><span style="color:#CE9178">&#x27;http://localhost:3000/foo&#x27;</span><span style="color:#D4D4D4"> })</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><p>URL은 <a href="https://next-auth.js.org/configuration/callbacks#redirect-callback" target="_blank" rel="noopener noreferrer">리디렉션 콜백 처리기</a>에서 유효한 것이어야 합니다. 기본적으로 URL은 동일한 호스트 이름의 절대 URL이거나 <code>/</code>로 시작하는 상대 URL이어야 합니다. 일치하지 않으면 홈페이지로 리디렉션됩니다. 다른 URL을 허용하도록 고유한 리디렉션 콜백을 정의하는 것도 가능합니다.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="redirect-false-옵션-사용하기-1"><code>redirect: false</code> 옵션 사용하기<a href="#redirect-false-옵션-사용하기-1" class="hash-link" aria-label="redirect-false-옵션-사용하기-1에 대한 직접 링크" title="redirect-false-옵션-사용하기-1에 대한 직접 링크">​</a></h3><p><code>signOut</code>에 <code>redirect: false</code>를 전달하면 페이지가 다시 로드되지 않습니다. 세션이 삭제되고 <code>useSession</code> 훅에 알림이 전송되어 사용자와 관련된 모든 것이 자동으로 로그아웃됩니다. 이는 사용자에게 매우 만족스러운 경험을 선사합니다.</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>팁</div><div class="admonitionContent_S0QG"><p>다른 페이지로 리디렉션하면서도 페이지를 다시 로드하지 않으려면 <code>const data = waitsignOut({redirect: false, callbackUrl: &quot;/foo&quot;})</code>를 시도해 보세요. 여기서 <code>data.url</code>은 넥스트의 <code>useRouter().push(data.url)</code>을 사용하여 깜빡임 없이 사용자를 리디렉션할 수 있는 유효한 URL입니다.</p></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="sessionprovider"><code>SessionProvider</code><a href="#sessionprovider" class="hash-link" aria-label="sessionprovider에 대한 직접 링크" title="sessionprovider에 대한 직접 링크">​</a></h2><p>제공된 <code>&lt;SessionProvider&gt;</code>를 사용하면 <code>useSession()</code>의 인스턴스가 내부적으로 <a href="https://reactjs.org/docs/context.html" target="_blank" rel="noopener noreferrer">리액트 컨텍스트</a>를 사용해 컴포넌트 간에 세션 객체를 공유합니다. 또한 탭·창 간에 세션을 갱신하고 동기화되게 관리합니다.</p><pre class="shiki dark-plus with-title" style="background-color:#1E1E1E;color:#D4D4D4" title="pages/_app.js"><div class="code-title">pages/_app.js</div><div class="language-id">jsx</div><div class="code-container"><code><div class="line"><span style="color:#C586C0">import</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">SessionProvider</span><span style="color:#D4D4D4"> } </span><span style="color:#C586C0">from</span><span style="color:#D4D4D4"> </span><span style="color:#CE9178">&quot;next-auth/react&quot;</span></div><div class="line"></div><div class="line"><span style="color:#C586C0">export</span><span style="color:#D4D4D4"> </span><span style="color:#C586C0">default</span><span style="color:#D4D4D4"> </span><span style="color:#569CD6">function</span><span style="color:#D4D4D4"> </span><span style="color:#DCDCAA">App</span><span style="color:#D4D4D4">({</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#9CDCFE">Component</span><span style="color:#D4D4D4">,</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#9CDCFE">pageProps</span><span style="color:#D4D4D4">: { </span><span style="color:#9CDCFE">session</span><span style="color:#D4D4D4">, ...</span><span style="color:#9CDCFE">pageProps</span><span style="color:#D4D4D4"> },</span></div><div class="line"><span style="color:#D4D4D4">}) {</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#C586C0">return</span><span style="color:#D4D4D4"> (</span></div><div class="line"><span style="color:#D4D4D4">    </span><span style="color:#808080">&lt;</span><span style="color:#4EC9B0">SessionProvider</span><span style="color:#D4D4D4"> </span><span style="color:#9CDCFE">session</span><span style="color:#D4D4D4">=</span><span style="color:#569CD6">{</span><span style="color:#9CDCFE">session</span><span style="color:#569CD6">}</span><span style="color:#808080">&gt;</span></div><div class="line"><span style="color:#D4D4D4">      </span><span style="color:#808080">&lt;</span><span style="color:#4EC9B0">Component</span><span style="color:#D4D4D4"> </span><span style="color:#569CD6">{</span><span style="color:#D4D4D4">...</span><span style="color:#9CDCFE">pageProps</span><span style="color:#569CD6">}</span><span style="color:#D4D4D4"> </span><span style="color:#808080">/&gt;</span></div><div class="line"><span style="color:#D4D4D4">    </span><span style="color:#808080">&lt;/</span><span style="color:#4EC9B0">SessionProvider</span><span style="color:#808080">&gt;</span></div><div class="line"><span style="color:#D4D4D4">  )</span></div><div class="line"><span style="color:#D4D4D4">}</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><pre class="shiki dark-plus with-title" style="background-color:#1E1E1E;color:#D4D4D4" title="pages/_app.js"><div class="code-title">pages/_app.js</div><div class="language-id">jsx</div><div class="code-container"><code><div class="line"><span style="color:#C586C0">import</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">SessionProvider</span><span style="color:#D4D4D4"> } </span><span style="color:#C586C0">from</span><span style="color:#D4D4D4"> </span><span style="color:#CE9178">&quot;next-auth/react&quot;</span></div><div class="line"></div><div class="line"><span style="color:#C586C0">export</span><span style="color:#D4D4D4"> </span><span style="color:#C586C0">default</span><span style="color:#D4D4D4"> </span><span style="color:#569CD6">function</span><span style="color:#D4D4D4"> </span><span style="color:#DCDCAA">App</span><span style="color:#D4D4D4">({</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#9CDCFE">Component</span><span style="color:#D4D4D4">,</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#9CDCFE">pageProps</span><span style="color:#D4D4D4">: { </span><span style="color:#9CDCFE">session</span><span style="color:#D4D4D4">, ...</span><span style="color:#9CDCFE">pageProps</span><span style="color:#D4D4D4"> },</span></div><div class="line"><span style="color:#D4D4D4">}) {</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#C586C0">return</span><span style="color:#D4D4D4"> (</span></div><div class="line"><span style="color:#D4D4D4">    </span><span style="color:#808080">&lt;</span><span style="color:#4EC9B0">SessionProvider</span><span style="color:#D4D4D4"> </span><span style="color:#9CDCFE">session</span><span style="color:#D4D4D4">=</span><span style="color:#569CD6">{</span><span style="color:#9CDCFE">session</span><span style="color:#569CD6">}</span><span style="color:#808080">&gt;</span></div><div class="line"><span style="color:#D4D4D4">      </span><span style="color:#808080">&lt;</span><span style="color:#4EC9B0">Component</span><span style="color:#D4D4D4"> </span><span style="color:#569CD6">{</span><span style="color:#D4D4D4">...</span><span style="color:#9CDCFE">pageProps</span><span style="color:#569CD6">}</span><span style="color:#D4D4D4"> </span><span style="color:#808080">/&gt;</span></div><div class="line"><span style="color:#D4D4D4">    </span><span style="color:#808080">&lt;/</span><span style="color:#4EC9B0">SessionProvider</span><span style="color:#808080">&gt;</span></div><div class="line"><span style="color:#D4D4D4">  )</span></div><div class="line"><span style="color:#D4D4D4">}</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><p>위의 예시와 같이 <code>&lt;SessionProvider&gt;</code>에 <code>session</code> 페이지 프롭을 전달하면 서버 측과 클라이언트 측 렌더링을 모두 지원하는 페이지에서 세션을 두 번 확인하는 것을 피할 수 있습니다.</p><p>그러나 이는 올바른 <code>pageProps</code>를 건네준 페이지에서만 유효합니다. 보통은 다음과 같이 <code>getInitialProps</code>나 <code>getServerSideProps</code>에서 개별 페이지 단위로 수행됩니다.</p><pre class="shiki dark-plus with-title" style="background-color:#1E1E1E;color:#D4D4D4" title="pages/index.js"><div class="code-title">pages/index.js</div><div class="language-id">jsx</div><div class="code-container"><code><div class="line"><span style="color:#C586C0">import</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">unstable_getServerSession</span><span style="color:#D4D4D4"> } </span><span style="color:#C586C0">from</span><span style="color:#D4D4D4"> </span><span style="color:#CE9178">&quot;next-auth/next&quot;</span></div><div class="line"><span style="color:#C586C0">import</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">authOptions</span><span style="color:#D4D4D4"> } </span><span style="color:#C586C0">from</span><span style="color:#D4D4D4"> </span><span style="color:#CE9178">&#x27;./api/auth/[...nextauth]&#x27;</span></div><div class="line"></div><div class="line"><span style="color:#D4D4D4">...</span></div><div class="line"></div><div class="line"><span style="color:#C586C0">export</span><span style="color:#D4D4D4"> </span><span style="color:#569CD6">async</span><span style="color:#D4D4D4"> </span><span style="color:#569CD6">function</span><span style="color:#D4D4D4"> </span><span style="color:#DCDCAA">getServerSideProps</span><span style="color:#D4D4D4">({ </span><span style="color:#9CDCFE">req</span><span style="color:#D4D4D4">, </span><span style="color:#9CDCFE">res</span><span style="color:#D4D4D4"> }) {</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#C586C0">return</span><span style="color:#D4D4D4"> {</span></div><div class="line"><span style="color:#D4D4D4">    </span><span style="color:#9CDCFE">props:</span><span style="color:#D4D4D4"> {</span></div><div class="line"><span style="color:#D4D4D4">      </span><span style="color:#9CDCFE">session:</span><span style="color:#D4D4D4"> </span><span style="color:#C586C0">await</span><span style="color:#D4D4D4"> </span><span style="color:#DCDCAA">unstable_getServerSession</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">req</span><span style="color:#D4D4D4">, </span><span style="color:#9CDCFE">res</span><span style="color:#D4D4D4">, </span><span style="color:#9CDCFE">authOptions</span><span style="color:#D4D4D4">)</span></div><div class="line"><span style="color:#D4D4D4">    }</span></div><div class="line"><span style="color:#D4D4D4">  }</span></div><div class="line"><span style="color:#D4D4D4">}</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><pre class="shiki dark-plus with-title" style="background-color:#1E1E1E;color:#D4D4D4" title="pages/index.js"><div class="code-title">pages/index.js</div><div class="language-id">jsx</div><div class="code-container"><code><div class="line"><span style="color:#C586C0">import</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">unstable_getServerSession</span><span style="color:#D4D4D4"> } </span><span style="color:#C586C0">from</span><span style="color:#D4D4D4"> </span><span style="color:#CE9178">&quot;next-auth/next&quot;</span></div><div class="line"><span style="color:#C586C0">import</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">authOptions</span><span style="color:#D4D4D4"> } </span><span style="color:#C586C0">from</span><span style="color:#D4D4D4"> </span><span style="color:#CE9178">&#x27;./api/auth/[...nextauth]&#x27;</span></div><div class="line"></div><div class="line"><span style="color:#D4D4D4">...</span></div><div class="line"></div><div class="line"><span style="color:#C586C0">export</span><span style="color:#D4D4D4"> </span><span style="color:#569CD6">async</span><span style="color:#D4D4D4"> </span><span style="color:#569CD6">function</span><span style="color:#D4D4D4"> </span><span style="color:#DCDCAA">getServerSideProps</span><span style="color:#D4D4D4">({ </span><span style="color:#9CDCFE">req</span><span style="color:#D4D4D4">, </span><span style="color:#9CDCFE">res</span><span style="color:#D4D4D4"> }) {</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#C586C0">return</span><span style="color:#D4D4D4"> {</span></div><div class="line"><span style="color:#D4D4D4">    </span><span style="color:#9CDCFE">props:</span><span style="color:#D4D4D4"> {</span></div><div class="line"><span style="color:#D4D4D4">      </span><span style="color:#9CDCFE">session:</span><span style="color:#D4D4D4"> </span><span style="color:#C586C0">await</span><span style="color:#D4D4D4"> </span><span style="color:#DCDCAA">unstable_getServerSession</span><span style="color:#D4D4D4">(</span><span style="color:#9CDCFE">req</span><span style="color:#D4D4D4">, </span><span style="color:#9CDCFE">res</span><span style="color:#D4D4D4">, </span><span style="color:#9CDCFE">authOptions</span><span style="color:#D4D4D4">)</span></div><div class="line"><span style="color:#D4D4D4">    }</span></div><div class="line"><span style="color:#D4D4D4">  }</span></div><div class="line"><span style="color:#D4D4D4">}</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><p><code>_app</code>의 <code>getInitialProps</code>에서 모든 페이지를 보호할 수 있습니다. 또는 페이지 단위로 이를 수행할 수 있습니다. 또는 <a href="#%EC%BB%A4%EC%8A%A4%ED%85%80-%ED%81%B4%EB%9D%BC%EC%9D%B4%EC%96%B8%ED%8A%B8-%EC%84%B8%EC%85%98-%EC%B2%98%EB%A6%AC">대체 클라이언트 세션 처리</a>에서 아래의 메서드를 사용해 각 인증 확인(SSR)을 차단하는 대신 페이지별 인증 확인이 가능합니다.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="옵션">옵션<a href="#옵션" class="hash-link" aria-label="옵션에 대한 직접 링크" title="옵션에 대한 직접 링크">​</a></h3><p>세션 상태는 열려 있는 모든 탭·창에서 자동으로 동기화되며 <code>refetchOnWindowFocus</code>가 <code>true</code>일 때는 초점를 얻거나, 잃거나, 상태가 변경될 때(예: 사용자가 로그인 또는 로그아웃)마다 모두 갱신됩니다.</p><p>세션 만료 시간이 30일(기본값) 이상이라면 제공자의 기본 옵션을 변경할 필요가 없습니다. 필요한 경우 클라이언트 측 함수에서 <code>getSession()</code>을 호출하여 모든 탭·창에서 세션 객체의 갱신을 트리거할 수 있습니다.</p><p>그러나 세션 동작을 커스터마이즈하고 싶거나 짧은 세션 만료 시간을 원한다면, 해당 옵션을 제공자에게 건네줘서 <code>useSession()</code> 훅의 동작을 커스터마이즈합니다.</p><pre class="shiki dark-plus with-title" style="background-color:#1E1E1E;color:#D4D4D4" title="pages/_app.js"><div class="code-title">pages/_app.js</div><div class="language-id">jsx</div><div class="code-container"><code><div class="line"><span style="color:#C586C0">import</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">SessionProvider</span><span style="color:#D4D4D4"> } </span><span style="color:#C586C0">from</span><span style="color:#D4D4D4"> </span><span style="color:#CE9178">&quot;next-auth/react&quot;</span></div><div class="line"></div><div class="line"><span style="color:#C586C0">export</span><span style="color:#D4D4D4"> </span><span style="color:#C586C0">default</span><span style="color:#D4D4D4"> </span><span style="color:#569CD6">function</span><span style="color:#D4D4D4"> </span><span style="color:#DCDCAA">App</span><span style="color:#D4D4D4">({</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#9CDCFE">Component</span><span style="color:#D4D4D4">,</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#9CDCFE">pageProps</span><span style="color:#D4D4D4">: { </span><span style="color:#9CDCFE">session</span><span style="color:#D4D4D4">, ...</span><span style="color:#9CDCFE">pageProps</span><span style="color:#D4D4D4"> },</span></div><div class="line"><span style="color:#D4D4D4">}) {</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#C586C0">return</span><span style="color:#D4D4D4"> (</span></div><div class="line"><span style="color:#D4D4D4">    </span><span style="color:#808080">&lt;</span><span style="color:#4EC9B0">SessionProvider</span></div><div class="line"><span style="color:#D4D4D4">      </span><span style="color:#9CDCFE">session</span><span style="color:#D4D4D4">=</span><span style="color:#569CD6">{</span><span style="color:#9CDCFE">session</span><span style="color:#569CD6">}</span></div><div class="line"><span style="color:#D4D4D4">      </span><span style="color:#6A9955">// 커스텀 경로를 사용하며 앱이 &quot;/&quot;가 아닌 &quot;/cool-app&quot; 경로에 있는 경우</span></div><div class="line"><span style="color:#D4D4D4">      </span><span style="color:#9CDCFE">basePath</span><span style="color:#D4D4D4">=</span><span style="color:#CE9178">&quot;cool-app&quot;</span></div><div class="line"><span style="color:#D4D4D4">      </span><span style="color:#6A9955">// 5분마다 세션을 다시 가져온다.</span></div><div class="line"><span style="color:#D4D4D4">      </span><span style="color:#9CDCFE">refetchInterval</span><span style="color:#D4D4D4">=</span><span style="color:#569CD6">{</span><span style="color:#B5CEA8">5</span><span style="color:#D4D4D4"> * </span><span style="color:#B5CEA8">60</span><span style="color:#569CD6">}</span></div><div class="line"><span style="color:#D4D4D4">      </span><span style="color:#6A9955">// 창이 초점을 얻으면 세션을 다시 가져온다.</span></div><div class="line"><span style="color:#D4D4D4">      </span><span style="color:#9CDCFE">refetchOnWindowFocus</span><span style="color:#D4D4D4">=</span><span style="color:#569CD6">{true}</span></div><div class="line"><span style="color:#D4D4D4">    </span><span style="color:#808080">&gt;</span></div><div class="line"><span style="color:#D4D4D4">      </span><span style="color:#808080">&lt;</span><span style="color:#4EC9B0">Component</span><span style="color:#D4D4D4"> </span><span style="color:#569CD6">{</span><span style="color:#D4D4D4">...</span><span style="color:#9CDCFE">pageProps</span><span style="color:#569CD6">}</span><span style="color:#D4D4D4"> </span><span style="color:#808080">/&gt;</span></div><div class="line"><span style="color:#D4D4D4">    </span><span style="color:#808080">&lt;/</span><span style="color:#4EC9B0">SessionProvider</span><span style="color:#808080">&gt;</span></div><div class="line"><span style="color:#D4D4D4">  )</span></div><div class="line"><span style="color:#D4D4D4">}</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><pre class="shiki dark-plus with-title" style="background-color:#1E1E1E;color:#D4D4D4" title="pages/_app.js"><div class="code-title">pages/_app.js</div><div class="language-id">jsx</div><div class="code-container"><code><div class="line"><span style="color:#C586C0">import</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">SessionProvider</span><span style="color:#D4D4D4"> } </span><span style="color:#C586C0">from</span><span style="color:#D4D4D4"> </span><span style="color:#CE9178">&quot;next-auth/react&quot;</span></div><div class="line"></div><div class="line"><span style="color:#C586C0">export</span><span style="color:#D4D4D4"> </span><span style="color:#C586C0">default</span><span style="color:#D4D4D4"> </span><span style="color:#569CD6">function</span><span style="color:#D4D4D4"> </span><span style="color:#DCDCAA">App</span><span style="color:#D4D4D4">({</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#9CDCFE">Component</span><span style="color:#D4D4D4">,</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#9CDCFE">pageProps</span><span style="color:#D4D4D4">: { </span><span style="color:#9CDCFE">session</span><span style="color:#D4D4D4">, ...</span><span style="color:#9CDCFE">pageProps</span><span style="color:#D4D4D4"> },</span></div><div class="line"><span style="color:#D4D4D4">}) {</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#C586C0">return</span><span style="color:#D4D4D4"> (</span></div><div class="line"><span style="color:#D4D4D4">    </span><span style="color:#808080">&lt;</span><span style="color:#4EC9B0">SessionProvider</span></div><div class="line"><span style="color:#D4D4D4">      </span><span style="color:#9CDCFE">session</span><span style="color:#D4D4D4">=</span><span style="color:#569CD6">{</span><span style="color:#9CDCFE">session</span><span style="color:#569CD6">}</span></div><div class="line"><span style="color:#D4D4D4">      </span><span style="color:#6A9955">// 커스텀 경로를 사용하며 앱이 &quot;/&quot;가 아닌 &quot;/cool-app&quot; 경로에 있는 경우</span></div><div class="line"><span style="color:#D4D4D4">      </span><span style="color:#9CDCFE">basePath</span><span style="color:#D4D4D4">=</span><span style="color:#CE9178">&quot;cool-app&quot;</span></div><div class="line"><span style="color:#D4D4D4">      </span><span style="color:#6A9955">// 5분마다 세션을 다시 가져온다.</span></div><div class="line"><span style="color:#D4D4D4">      </span><span style="color:#9CDCFE">refetchInterval</span><span style="color:#D4D4D4">=</span><span style="color:#569CD6">{</span><span style="color:#B5CEA8">5</span><span style="color:#D4D4D4"> * </span><span style="color:#B5CEA8">60</span><span style="color:#569CD6">}</span></div><div class="line"><span style="color:#D4D4D4">      </span><span style="color:#6A9955">// 창이 초점을 얻으면 세션을 다시 가져온다.</span></div><div class="line"><span style="color:#D4D4D4">      </span><span style="color:#9CDCFE">refetchOnWindowFocus</span><span style="color:#D4D4D4">=</span><span style="color:#569CD6">{true}</span></div><div class="line"><span style="color:#D4D4D4">    </span><span style="color:#808080">&gt;</span></div><div class="line"><span style="color:#D4D4D4">      </span><span style="color:#808080">&lt;</span><span style="color:#4EC9B0">Component</span><span style="color:#D4D4D4"> </span><span style="color:#569CD6">{</span><span style="color:#D4D4D4">...</span><span style="color:#9CDCFE">pageProps</span><span style="color:#569CD6">}</span><span style="color:#D4D4D4"> </span><span style="color:#808080">/&gt;</span></div><div class="line"><span style="color:#D4D4D4">    </span><span style="color:#808080">&lt;/</span><span style="color:#4EC9B0">SessionProvider</span><span style="color:#808080">&gt;</span></div><div class="line"><span style="color:#D4D4D4">  )</span></div><div class="line"><span style="color:#D4D4D4">}</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>참고</div><div class="admonitionContent_S0QG"><p>이 옵션은 로그인하지 않은 클라이언트에는 영향을 미치지 않습니다.</p><p>모든 탭·창은 로컬 세션 상태의 자체 복사본을 유지 관리합니다. 세션은 로컬스토리지나 세션스토리지와 같은 공유 저장소에 저장되지 않습니다. 한 탭·창의 갱신은 다른 탭·창에 대한 메시지를 트리거하여 자체 세션 상태를 갱신합니다.</p><p><code>refetchInterval</code>에 작은 값을 사용하면 인증된 클라이언트의 네트워크 트래픽과 부하가 증가하고 호스팅 비용과 성능에 영향을 미칠 수 있습니다.</p></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="기본-경로">기본 경로<a href="#기본-경로" class="hash-link" aria-label="기본 경로에 대한 직접 링크" title="기본 경로에 대한 직접 링크">​</a></h4><p>커스텀 기본 경로를 사용 중이고 앱 진입점이 도메인의 루트 <code>/</code>가 아니라 다른 곳(예: <code>/my-app/</code>)인 경우, <code>basePath</code> 프롭을 사용하여 넥스트인증이 이를 인식하게 만들고 모든 리디렉션 및 세션 처리가 예상대로 작동되게 합니다.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="다시-가져오기-간격">다시 가져오기 간격<a href="#다시-가져오기-간격" class="hash-link" aria-label="다시 가져오기 간격에 대한 직접 링크" title="다시 가져오기 간격에 대한 직접 링크">​</a></h4><p><code>refetchInterval</code> 옵션을 사용하면 서버에 연결하여 세션 만료를 막을 수 있습니다.</p><p><code>refetchInterval</code>을 <code>0</code>(기본값)으로 설정하면 세션 폴링이 없습니다.</p><p>클라이언트가 세션 상태를 갱신하기 위해 서버에 접속해야 하는 빈도를 초 단위로 지정합니다. 다시 가져오기가 트리거될 때 세션 상태가 만료되었다면 열려 있는 모든 탭·창이 이를 반영하도록 갱신됩니다.</p><p><code>refetchInterval</code>의 값은 항상 세션의 <code>maxAge</code> <a href="https://next-auth.js.org/configuration/options#session" target="_blank" rel="noopener noreferrer">세션 옵션</a>의 값보다 작아야 합니다.</p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="창이-초점을-얻으면-다시-가져오기">창이 초점을 얻으면 다시 가져오기<a href="#창이-초점을-얻으면-다시-가져오기" class="hash-link" aria-label="창이 초점을 얻으면 다시 가져오기에 대한 직접 링크" title="창이 초점을 얻으면 다시 가져오기에 대한 직접 링크">​</a></h4><p><code>refetchOnWindowFocus</code> 옵션을 사용하여 탭·창에서 초점을 전환할 때의 세션 상태 자동 갱신을 설정할 수 있습니다.</p><p><code>refetchOnWindowFocus</code>를 <code>true</code>(기본값)로 설정하면 탭·창이 초점을 얻거나 잃을 때 탭·창이 갱신되고 컴포넌트의 상태가 초기화됩니다.</p><p>그러나 <code>false</code>로 설정된 경우, 세션 다시 가져오기를 중지하고 컴포넌트는 그대로 유지됩니다.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>참고</div><div class="admonitionContent_S0QG"><p>넥스트 앱의 <code>_app.js</code>에 대한 자세한 내용은 <a href="https://nextjs.org/docs/advanced-features/custom-app" target="_blank" rel="noopener noreferrer">넥스트 문서</a>를 참고하세요.</p></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="커스텀-기본-경로">커스텀 기본 경로<a href="#커스텀-기본-경로" class="hash-link" aria-label="커스텀 기본 경로에 대한 직접 링크" title="커스텀 기본 경로에 대한 직접 링크">​</a></h3><p>넥스트 앱이 커스텀 기본 경로를 사용하는 경우, 아래 예시와 <a href="https://next-auth.js.org/configuration/options#nextauth_url" target="_blank" rel="noopener noreferrer">이곳</a>에 설명된 대로 <code>NEXTAUTH_URL</code> 환경 변수를 API 엔드포인트의 전체 경로로 설정합니다.</p><p>또한 아래 예시와 같이 <code>&lt;SessionProvider&gt;</code>에 <code>basePath</code> 페이지 프롭을 전달하여 넥스트인증에서 커스텀 기본 경로를 완전히 설정하고 사용되게 합니다.</p><p>다음 예시에서 사용된 커스텀 기본 경로는 <code>/custom-route</code>입니다.</p><pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4"><div class="code-container"><code><div class="line"><span style="color:undefined">NEXTAUTH_URL=https://example.com/custom-route/api/auth</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><pre class="shiki dark-plus" style="background-color:#1E1E1E;color:#D4D4D4"><div class="code-container"><code><div class="line"><span style="color:undefined">NEXTAUTH_URL=https://example.com/custom-route/api/auth</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><pre class="shiki dark-plus with-title" style="background-color:#1E1E1E;color:#D4D4D4" title="pages/_app.js"><div class="code-title">pages/_app.js</div><div class="language-id">jsx</div><div class="code-container"><code><div class="line"><span style="color:#C586C0">import</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">SessionProvider</span><span style="color:#D4D4D4"> } </span><span style="color:#C586C0">from</span><span style="color:#D4D4D4"> </span><span style="color:#CE9178">&quot;next-auth/react&quot;</span></div><div class="line"><span style="color:#C586C0">export</span><span style="color:#D4D4D4"> </span><span style="color:#C586C0">default</span><span style="color:#D4D4D4"> </span><span style="color:#569CD6">function</span><span style="color:#D4D4D4"> </span><span style="color:#DCDCAA">App</span><span style="color:#D4D4D4">({</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#9CDCFE">Component</span><span style="color:#D4D4D4">,</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#9CDCFE">pageProps</span><span style="color:#D4D4D4">: { </span><span style="color:#9CDCFE">session</span><span style="color:#D4D4D4">, ...</span><span style="color:#9CDCFE">pageProps</span><span style="color:#D4D4D4"> },</span></div><div class="line"><span style="color:#D4D4D4">}) {</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#C586C0">return</span><span style="color:#D4D4D4"> (</span></div><div class="line"><span style="color:#D4D4D4">    </span><span style="color:#808080">&lt;</span><span style="color:#4EC9B0">SessionProvider</span><span style="color:#D4D4D4"> </span><span style="color:#9CDCFE">session</span><span style="color:#D4D4D4">=</span><span style="color:#569CD6">{</span><span style="color:#9CDCFE">session</span><span style="color:#569CD6">}</span><span style="color:#D4D4D4"> </span><span style="color:#9CDCFE">basePath</span><span style="color:#D4D4D4">=</span><span style="color:#CE9178">&quot;/custom-route/api/auth&quot;</span><span style="color:#808080">&gt;</span></div><div class="line"><span style="color:#D4D4D4">      </span><span style="color:#808080">&lt;</span><span style="color:#4EC9B0">Component</span><span style="color:#D4D4D4"> </span><span style="color:#569CD6">{</span><span style="color:#D4D4D4">...</span><span style="color:#9CDCFE">pageProps</span><span style="color:#569CD6">}</span><span style="color:#D4D4D4"> </span><span style="color:#808080">/&gt;</span></div><div class="line"><span style="color:#D4D4D4">    </span><span style="color:#808080">&lt;/</span><span style="color:#4EC9B0">SessionProvider</span><span style="color:#808080">&gt;</span></div><div class="line"><span style="color:#D4D4D4">  )</span></div><div class="line"><span style="color:#D4D4D4">}</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre><pre class="shiki dark-plus with-title" style="background-color:#1E1E1E;color:#D4D4D4" title="pages/_app.js"><div class="code-title">pages/_app.js</div><div class="language-id">jsx</div><div class="code-container"><code><div class="line"><span style="color:#C586C0">import</span><span style="color:#D4D4D4"> { </span><span style="color:#9CDCFE">SessionProvider</span><span style="color:#D4D4D4"> } </span><span style="color:#C586C0">from</span><span style="color:#D4D4D4"> </span><span style="color:#CE9178">&quot;next-auth/react&quot;</span></div><div class="line"><span style="color:#C586C0">export</span><span style="color:#D4D4D4"> </span><span style="color:#C586C0">default</span><span style="color:#D4D4D4"> </span><span style="color:#569CD6">function</span><span style="color:#D4D4D4"> </span><span style="color:#DCDCAA">App</span><span style="color:#D4D4D4">({</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#9CDCFE">Component</span><span style="color:#D4D4D4">,</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#9CDCFE">pageProps</span><span style="color:#D4D4D4">: { </span><span style="color:#9CDCFE">session</span><span style="color:#D4D4D4">, ...</span><span style="color:#9CDCFE">pageProps</span><span style="color:#D4D4D4"> },</span></div><div class="line"><span style="color:#D4D4D4">}) {</span></div><div class="line"><span style="color:#D4D4D4">  </span><span style="color:#C586C0">return</span><span style="color:#D4D4D4"> (</span></div><div class="line"><span style="color:#D4D4D4">    </span><span style="color:#808080">&lt;</span><span style="color:#4EC9B0">SessionProvider</span><span style="color:#D4D4D4"> </span><span style="color:#9CDCFE">session</span><span style="color:#D4D4D4">=</span><span style="color:#569CD6">{</span><span style="color:#9CDCFE">session</span><span style="color:#569CD6">}</span><span style="color:#D4D4D4"> </span><span style="color:#9CDCFE">basePath</span><span style="color:#D4D4D4">=</span><span style="color:#CE9178">&quot;/custom-route/api/auth&quot;</span><span style="color:#808080">&gt;</span></div><div class="line"><span style="color:#D4D4D4">      </span><span style="color:#808080">&lt;</span><span style="color:#4EC9B0">Component</span><span style="color:#D4D4D4"> </span><span style="color:#569CD6">{</span><span style="color:#D4D4D4">...</span><span style="color:#9CDCFE">pageProps</span><span style="color:#569CD6">}</span><span style="color:#D4D4D4"> </span><span style="color:#808080">/&gt;</span></div><div class="line"><span style="color:#D4D4D4">    </span><span style="color:#808080">&lt;/</span><span style="color:#4EC9B0">SessionProvider</span><span style="color:#808080">&gt;</span></div><div class="line"><span style="color:#D4D4D4">  )</span></div><div class="line"><span style="color:#D4D4D4">}</span></div></code></div><button type="button" aria-label="클립보드에 코드 복사" class="copy-button">복사</button></pre></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="문서 페이지"><a class="pagination-nav__link pagination-nav__link--prev" href="/doc-archive/docs/nextauthjs/getting-started"><div class="pagination-nav__sublabel">이전</div><div class="pagination-nav__label">시작하기</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/doc-archive/docs/nextauthjs/basic/rest-api"><div class="pagination-nav__sublabel">다음</div><div class="pagination-nav__label">REST API</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#usesession" class="table-of-contents__link toc-highlight"><code>useSession()</code></a><ul><li><a href="#세션이-필요" class="table-of-contents__link toc-highlight">세션이 필요</a></li><li><a href="#커스텀-클라이언트-세션-처리" class="table-of-contents__link toc-highlight">커스텀 클라이언트 세션 처리</a></li><li><a href="#넥스트인증과-리액트-쿼리" class="table-of-contents__link toc-highlight">넥스트인증과 리액트 쿼리</a></li></ul></li><li><a href="#getsession" class="table-of-contents__link toc-highlight"><code>getSession()</code></a></li><li><a href="#getcsrftoken" class="table-of-contents__link toc-highlight"><code>getCsrfToken()</code></a></li><li><a href="#getproviders" class="table-of-contents__link toc-highlight"><code>getProviders()</code></a></li><li><a href="#signin" class="table-of-contents__link toc-highlight"><code>signIn()</code></a><ul><li><a href="#클릭-시-로그인-페이지로-리디렉션하기" class="table-of-contents__link toc-highlight">클릭 시 로그인 페이지로 리디렉션하기</a></li><li><a href="#클릭-시-oauth-로그인-흐름-시작하기" class="table-of-contents__link toc-highlight">클릭 시 OAuth 로그인 흐름 시작하기</a></li><li><a href="#클릭-시-이메일-로그인-흐름-시작하기" class="table-of-contents__link toc-highlight">클릭 시 이메일 로그인 흐름 시작하기</a></li><li><a href="#callbackurl-지정하기" class="table-of-contents__link toc-highlight"><code>callbackUrl</code> 지정하기</a></li><li><a href="#redirect-false-옵션-사용하기" class="table-of-contents__link toc-highlight"><code>redirect: false</code> 옵션 사용하기</a></li><li><a href="#추가-매개변수" class="table-of-contents__link toc-highlight">추가 매개변수</a></li></ul></li><li><a href="#signout" class="table-of-contents__link toc-highlight"><code>signOut()</code></a><ul><li><a href="#callbackurl-지정하기-1" class="table-of-contents__link toc-highlight"><code>callbackUrl</code> 지정하기</a></li><li><a href="#redirect-false-옵션-사용하기-1" class="table-of-contents__link toc-highlight"><code>redirect: false</code> 옵션 사용하기</a></li></ul></li><li><a href="#sessionprovider" class="table-of-contents__link toc-highlight"><code>SessionProvider</code></a><ul><li><a href="#옵션" class="table-of-contents__link toc-highlight">옵션</a></li><li><a href="#커스텀-기본-경로" class="table-of-contents__link toc-highlight">커스텀 기본 경로</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/doc-archive/docs/javascript/keyboard-keydown-and-keyup">JavaScript</a></li><li class="footer__item"><a class="footer__link-item" href="/doc-archive/docs/typescript">TypeScript</a></li><li class="footer__item"><a class="footer__link-item" href="/doc-archive/docs/react">React</a></li><li class="footer__item"><a class="footer__link-item" href="/doc-archive/docs/nextjs">Next.js</a></li><li class="footer__item"><a class="footer__link-item" href="/doc-archive/docs/electron">Electron</a></li><li class="footer__item"><a class="footer__link-item" href="/doc-archive/docs/jest">Jest</a></li><li class="footer__item"><a class="footer__link-item" href="/doc-archive/docs/cypress">Cypress</a></li><li class="footer__item"><a class="footer__link-item" href="/doc-archive/docs/playwright">Playwright</a></li><li class="footer__item"><a class="footer__link-item" href="/doc-archive/docs/zustand">Zustand</a></li><li class="footer__item"><a class="footer__link-item" href="/doc-archive/docs/tanstack-query">TanStack Query</a></li><li class="footer__item"><a class="footer__link-item" href="/doc-archive/docs/nextauthjs">NextAuth.js</a></li><li class="footer__item"><a class="footer__link-item" href="/doc-archive/docs/vanilla-extract">Vanilla Extract</a></li><li class="footer__item"><a class="footer__link-item" href="/doc-archive/docs/tailwind-css">Tailwind CSS</a></li><li class="footer__item"><a class="footer__link-item" href="/doc-archive/docs/chakra-ui">Chakra UI</a></li><li class="footer__item"><a class="footer__link-item" href="/doc-archive/docs/prisma">Prisma</a></li><li class="footer__item"><a class="footer__link-item" href="/doc-archive/docs/docusaurus">Docusaurus</a></li><li class="footer__item"><a class="footer__link-item" href="/doc-archive/docs/emmet">Emmet</a></li><li class="footer__item"><a class="footer__link-item" href="/doc-archive/docs/yup">Yup</a></li><li class="footer__item"><a class="footer__link-item" href="/doc-archive/docs/regular-expression">정규 표현식</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/doc-archive/source">출처</a></li><li class="footer__item"><a href="https://docs-glossary.vercel.app/" target="_blank" rel="noopener noreferrer" class="footer__link-item">용어집<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/autroshot/doc-archive" target="_blank" rel="noopener noreferrer" class="footer__link-item">깃허브<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Built with Docusaurus.</div></div></div></footer></div>
<script src="/doc-archive/assets/js/runtime~main.37bcf7c7.js"></script>
<script src="/doc-archive/assets/js/main.0f06cf39.js"></script>
</body>
</html>